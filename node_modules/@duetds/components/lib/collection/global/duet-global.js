/*!
 * Built with Duet Design System
 */
import { setupLoggers } from "./log-wrapper";
const TAB_KEY = 9;
export default () => {
  function listenKeys(event) {
    if (event.keyCode === TAB_KEY) {
      var components = document.querySelectorAll(".hydrated");
      for (var i = 0; i < components.length; i++) {
        components[i].classList.add("user-is-tabbing");
      }
      if (typeof window !== "undefined") {
        window.removeEventListener("keydown", listenKeys);
        window.addEventListener("mousedown", listenMouse, false);
      }
    }
  }
  function listenMouse() {
    var components = document.querySelectorAll(".hydrated");
    for (var i = 0; i < components.length; i++) {
      components[i].classList.remove("user-is-tabbing");
    }
    if (typeof window !== "undefined") {
      window.removeEventListener("mousedown", listenMouse);
      window.addEventListener("keydown", listenKeys, false);
    }
  }
  if (typeof window !== "undefined") {
    window.addEventListener("keydown", listenKeys, false);
  }
  setupLoggers();
};
