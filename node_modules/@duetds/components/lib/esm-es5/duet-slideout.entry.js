var __awaiter=this&&this.__awaiter||function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function s(e){try{u(i.next(e))}catch(t){a(t)}}function r(e){try{u(i["throw"](e))}catch(t){a(t)}}function u(e){e.done?o(e.value):n(e.value).then(s,r)}u((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,s;return s={next:r(0),throw:r(1),return:r(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function r(e){return function(t){return u([e,t])}}function u(r){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,r[0]&&(o=0)),o)try{if(i=1,n&&(a=r[0]&2?n["return"]:r[0]?n["throw"]||((a=n["return"])&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;if(n=0,a)r=[r[0]&2,a.value];switch(r[0]){case 0:case 1:a=r;break;case 4:o.label++;return{value:r[1],done:false};case 5:o.label++;n=r[1];r=[0];continue;case 7:r=o.ops.pop();o.trys.pop();continue;default:if(!(a=o.trys,a=a.length>0&&a[a.length-1])&&(r[0]===6||r[0]===2)){o=0;continue}if(r[0]===3&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(r[0]===6&&o.label<a[1]){o.label=a[1];a=r;break}if(a&&o.label<a[2]){o.label=a[2];o.ops.push(r);break}if(a[2])o.ops.pop();o.trys.pop();continue}r=t.call(e,o)}catch(u){r=[6,u];n=0}finally{i=a=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-b45ea754.js";import{i as inheritGlobalTheme}from"./themeable-component-cb76be7c.js";import{F as FocusGuard}from"./focus-utils-4c89d596.js";import{f as isEscapeKey}from"./keyboard-utils-d237bd5a.js";import{g as getLanguage,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver,a as getLocaleString}from"./language-utils-6be16ff0.js";import{g as getColorByName}from"./token-utils-a1dcaa4b.js";import"./string-utils-5954f458.js";import"./tokens.module-ed773027.js";var duetSlideoutCss='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}:host slot:not([name=toggle])::slotted(*){position:relative;visibility:hidden;opacity:0}:host([open]) slot:not([name=toggle])::slotted(*){visibility:visible;opacity:1}:host(:not([open])) ::slotted(duet-slideout-panel){display:none}.duet-slideout{display:flex;align-items:center;height:100%}.duet-slideout .desktop-bg{display:none}@media (min-width: 62em){.duet-slideout .desktop-bg{position:fixed;top:0;left:0;z-index:400;display:block;width:100%;height:100%;visibility:hidden;background:rgba(0, 41, 77, 0.6);opacity:0;transition:600ms ease}.duet-slideout .desktop-bg:not(.hidden){visibility:visible;opacity:1;transition:600ms ease}}@media (min-width: 62em){.duet-slideout.duet-theme-turva .desktop-bg{background:rgba(23, 28, 58, 0.6)}}.duet-slideout .dialog{position:fixed;top:0;bottom:0;left:0;z-index:400;width:100%;height:100%;padding-bottom:75px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1) inset}@media (min-width: 62em){.duet-slideout .dialog{right:0;left:auto;width:500px;padding-bottom:0;transition:right 300ms ease;transition-delay:0s}}.duet-slideout .dialog .top{position:relative;z-index:1;display:flex;align-items:center;justify-content:flex-end;padding:4px}.duet-slideout .dialog .top button{cursor:pointer}.duet-slideout .dialog .top button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px rgb(0, 119, 179)}.duet-slideout .dialog .top duet-icon{padding:16px}.duet-slideout .dialog .items{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;padding:0 1.5rem}.duet-slideout .dialog.hidden{pointer-events:none;visibility:hidden}@media (min-width: 62em){.duet-slideout .dialog.hidden{right:-500px;transition:300ms ease}}.duet-slideout.duet-theme-turva button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button.active{color:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva button.active::after{background:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva .dialog .top button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58)}::slotted(*){width:100%}slot{color:rgb(0, 41, 77)}.duet-theme-turva slot{color:rgb(23, 28, 58)}slot[name=toggle]{color:inherit}';var DuetSlideout=function(){function e(e){var t=this;registerInstance(this,e);this.duetSlideoutEvent=createEvent(this,"duetSlideoutEvent",7);this.exitLangObject={en:"Exit the menu",fi:"Poistu valikosta",sv:"Avsluta menyn"};this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(navigator===null||navigator===void 0?void 0:navigator.userAgent);this.toggleMenu=function(e){var o=!t.open;t.open=o;t.openButton.setAttribute("aria-expanded",t.open.toString());t.duetSlideoutEvent.emit({originalEvent:e,data:{element:t.element,open:t.open},component:"duet-slideout"});if(o){var i=t.element.querySelector("duet-slideout-panel[open]");if(i){i.setFocus()}else{setTimeout((function(){t.closeButton.focus()}),200)}}else{setTimeout((function(){t.openButton.setFocus()}),200)}};this.onClick=function(e){t.toggleMenu(e)};this.language=getLanguage();this.theme="";this.open=false;this.backgroundColor="gray-lightest"}e.prototype.toggle=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(o){e=new CustomEvent("toggle");this.toggleMenu(e);setTimeout((function(){t.closeButton.focus()}),200);return[2]}))}))};e.prototype.componentWillLoad=function(){var e=this;inheritGlobalTheme(this);{this.openButton=this.element.querySelector(":scope > [slot='toggle']")}if(this.openButton){this.openButton.accessiblePopup="true";this.openButton.accessibleExpanded=false;this.openButton.addEventListener("click",(function(t){t.stopPropagation();t.preventDefault();e.onClick(t)}));this.openButton=this.openButton}};e.prototype.connectedCallback=function(){connectLanguageChangeObserver(this)};e.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this)};e.prototype.handleKeyUp=function(e){if(isEscapeKey(e)){if(this.open){this.toggleMenu(e)}}};e.prototype.setFocus=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.openButton.focus(e);return[2]}))}))};e.prototype.render=function(){var e=this;var t={background:getColorByName(this.backgroundColor,this.theme)};var o=getLocaleString(this.exitLangObject);return h(Host,null,h("div",{class:{"duet-slideout":true,"duet-theme-turva":this.theme==="turva"}},h("slot",{name:"toggle"}),h("div",{class:{"desktop-bg":true,hidden:!this.open},onClick:function(){e.open=false}}),h("div",{tabindex:"-1",role:"dialog",id:"dialog","aria-labelledby":"button","aria-modal":this.isSafariBrowser?false:true,"aria-flowto":"menubar",class:{dialog:true,hidden:!this.open},style:t},h(FocusGuard,{moveFocusTo:this.closeButton}),h("div",{class:"top"},h("button",{ref:function(t){return e.closeButton=t},"aria-haspopup":"dialog","aria-controls":"dialog","aria-expanded":this.open?"true":"false","aria-label":"".concat(o),type:"button",class:{"slideout-close":true,active:this.open},onClick:this.onClick},h("duet-icon",{name:"navigation-close",size:"small",margin:"none",color:"secondary"}))),h("div",{id:"menubar",role:"menubar",class:{items:true}},h("slot",null)),h(FocusGuard,{moveFocusTo:this.closeButton}))))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();DuetSlideout.style=duetSlideoutCss;export{DuetSlideout as duet_slideout};