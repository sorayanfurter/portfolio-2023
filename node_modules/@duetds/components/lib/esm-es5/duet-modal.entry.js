var __awaiter=this&&this.__awaiter||function(e,t,i,a){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function l(e){try{s(a.next(e))}catch(t){n(t)}}function d(e){try{s(a["throw"](e))}catch(t){n(t)}}function s(e){e.done?i(e.value):o(e.value).then(l,d)}s((a=a.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,o,n,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(e){return function(t){return s([e,t])}}function s(d){if(a)throw new TypeError("Generator is already executing.");while(l&&(l=0,d[0]&&(i=0)),i)try{if(a=1,o&&(n=d[0]&2?o["return"]:d[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,d[1])).done)return n;if(o=0,n)d=[d[0]&2,n.value];switch(d[0]){case 0:case 1:n=d;break;case 4:i.label++;return{value:d[1],done:false};case 5:i.label++;o=d[1];d=[0];continue;case 7:d=i.ops.pop();i.trys.pop();continue;default:if(!(n=i.trys,n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){i.label=d[1];break}if(d[0]===6&&i.label<n[1]){i.label=n[1];n=d;break}if(n&&i.label<n[2]){i.label=n[2];i.ops.push(d);break}if(n[2])i.ops.pop();i.trys.pop();continue}d=t.call(e,i)}catch(s){d=[6,s];o=0}finally{a=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-b45ea754.js";import{d as disableBodyScroll,e as enableBodyScroll}from"./bodyScrollLock.es6-61b5e9a4.js";import{i as inheritGlobalTheme}from"./themeable-component-cb76be7c.js";import{c as createID}from"./create-id-981107da.js";import{f as focusElement,F as FocusGuard}from"./focus-utils-4c89d596.js";import{f as isEscapeKey}from"./keyboard-utils-d237bd5a.js";import{g as getLanguage,a as getLocaleString,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver}from"./language-utils-6be16ff0.js";import"./string-utils-5954f458.js";var duetModalCss='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:900;max-height:100vh;overflow-y:auto;visibility:hidden;background:rgba(0, 41, 77, 0.85);opacity:0;transition:300ms ease;transition-delay:200ms}.duet-modal-overlay.duet-theme-turva{background:rgba(23, 28, 58, 0.85)}.duet-modal-overlay.duet-modal-active{visibility:visible;opacity:1;transition:300ms ease;transition-delay:0s}.duet-modal-overlay.duet-disable-transitions{transition:none}::slotted(img){width:100%}.duet-modal-inner{display:flex;align-items:center;width:100%;min-height:100%;padding:20px 16px}@media (min-width: 36em){.duet-modal-inner{padding:48px 16px}}@media (max-width: 35.9375em){.duet-modal-inner.duet-modal-large{padding-right:0;padding-left:0}}.duet-modal{position:relative;width:100%;max-width:686px;margin:auto;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);background:rgb(255, 255, 255);border-radius:4px;opacity:0;transition:300ms ease;transition-delay:0ms;transform:scale(0.96)}.duet-theme-turva .duet-modal{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-modal-active .duet-modal{opacity:1;transition:300ms ease;transition-delay:200ms;transform:none}.duet-disable-transitions .duet-modal{transition:none}.duet-modal.small{max-width:545px}.duet-modal.large{max-width:100%}@media (min-width: 36em){.duet-modal.large{max-width:1110px}}.duet-modal:focus{outline:0}.duet-modal-body{width:100%;padding:36px 28px}.duet-modal-body.duet-modal-gutter-none{padding:0 !important}.duet-modal-body.duet-modal-gutter-small{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large{padding:48px 36px}@media (max-width: 22.5em){.duet-modal-body{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large{padding:48px 28px}}@media (max-width: 35.9375em){.duet-modal-body{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large{padding:48px 36px}}@media (min-width: 36em){.duet-modal-body{padding:36px}.duet-modal-body.duet-modal-gutter-large{padding:28px 72px}}@media (min-width: 48em){.duet-modal-body{padding:36px 72px}.duet-modal-body.duet-modal-gutter-large{padding:36px 72px}}@media (min-width: 76.25em){.duet-modal-body{padding:36px 48px 48px}.duet-modal-body.duet-modal-gutter-large{padding:48px 94px}.small .duet-modal-body{padding:36px 48px}}.duet-modal-header{text-align:center}.duet-modal-close{position:absolute;top:12px;right:12px}.duet-modal-heading{width:100%;padding-right:60px;overflow:hidden;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1.25rem;font-style:normal;font-weight:600;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);text-decoration:none;text-overflow:ellipsis;letter-spacing:-0.01rem;white-space:nowrap}.duet-modal-heading.duet-p-0{padding:0 !important}.duet-modal-heading.duet-m-0{margin:0 !important}';var TRANSITION_MS=600;var DuetModal=function(){function e(e){registerInstance(this,e);this.duetOpen=createEvent(this,"duetOpen",7);this.duetClose=createEvent(this,"duetClose",7);this.duetBeforeClose=createEvent(this,"duetBeforeClose",7);var t,i;this.modalId=createID("DuetModal");this.slotDefaultId=createID("DuetModal-default-slot");this.isAndroidDevice=((i=(t=navigator===null||navigator===void 0?void 0:navigator.userAgent)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0?void 0:i.indexOf("android"))>-1||null;this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(navigator===null||navigator===void 0?void 0:navigator.userAgent);this.handleAndroidResizeEvents=function(){if(document.activeElement.tagName=="INPUT"){window.setTimeout((function(){var e;try{(e=document===null||document===void 0?void 0:document.activeElement)===null||e===void 0?void 0:e.scrollIntoViewIfNeeded(true)}catch(t){}}),100)}};this.open=false;this.language=getLanguage();this.accessibleCloseLabelDefaults={fi:"Sulje ikkuna",sv:"Stäng fönstret",en:"Close the dialog"};this.accessibleCloseLabel=getLocaleString(this.accessibleCloseLabelDefaults,this.language);this.size="medium";this.accessibleDescribedBy=undefined;this.accessibleLabelledBy=undefined;this.accessibleLabel=undefined;this.accessibleDetails=undefined;this.accessibleDescription=undefined;this.gutterSize="medium";this.theme="";this.heading="";this.headingLevel="h3";this.headingVisualLevel=undefined;this.icon="";this.color="";this.active=false;this.closeOnBlur=false}e.prototype.openChanged=function(){var e=this;if(this.open){if(this.modalEl&&this.modalEl.scrollTop){this.modalEl.scrollTop=0}this.focusedElBeforeOpen=document.activeElement;disableBodyScroll(this.modalEl,{reserveScrollBarGap:true});setTimeout((function(){e.buttonEl.setFocus()}),TRANSITION_MS);setTimeout((function(){e.modalEl.classList.add("duet-disable-transitions")}),TRANSITION_MS+200);if(this.isAndroidDevice){window.addEventListener("resize",this.handleAndroidResizeEvents)}this.duetOpen.emit()}else{this.modalEl.classList.remove("duet-disable-transitions");enableBodyScroll(this.modalEl);this.duetClose.emit();setTimeout((function(){focusElement(e.focusedElBeforeOpen)}),TRANSITION_MS);if(this.isAndroidDevice){window.removeEventListener("resize",this.handleAndroidResizeEvents)}}};e.prototype.watchLanguageStateHandler=function(e,t){if(e!==t&&this.accessibleCloseLabel===this.accessibleCloseLabelDefaults[t]){this.accessibleCloseLabel=getLocaleString(this.accessibleCloseLabelDefaults,e)}};e.prototype.activeChanged=function(){this.open=this.active};e.prototype.componentWillLoad=function(){inheritGlobalTheme(this)};e.prototype.componentDidLoad=function(){if(this.active){this.open=true;this.modalEl.classList.add("duet-disable-transitions")}};e.prototype.connectedCallback=function(){connectLanguageChangeObserver(this)};e.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this);enableBodyScroll(this.modalEl)};e.prototype.handleKeyUp=function(e){if(this.open){if(isEscapeKey(e)){this.closeModal(e)}}};e.prototype.show=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.open=true;return[2]}))}))};e.prototype.hide=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.open=false;return[2]}))}))};e.prototype.closeModal=function(e){var t=this;this.duetBeforeClose.emit({originalEvent:e,component:"duet-modal"});if(!e.defaultPrevented){setTimeout((function(){t.hide()}),1)}};e.prototype.render=function(){var e;var t=this;var i;var a="primary";var o="secondary";if(this.theme==="turva"){a="primary-turva";o="secondary-turva"}return h("div",{ref:function(e){return t.modalEl=e},"aria-label":this.accessibleLabel,"aria-labelledby":this.heading?this.modalId:false,"aria-details":this.accessibleDetails,"aria-description":this.accessibleDescription,"aria-describedby":this.accessibleDescribedBy,role:"dialog","aria-modal":this.isSafariBrowser?false:true,tabindex:"-1","aria-flowto":this.slotDefaultId,class:{"duet-modal-overlay":true,"duet-theme-turva":this.theme==="turva","duet-modal-active":this.open}},h(FocusGuard,{moveFocusTo:this.buttonEl}),h("div",{ref:function(e){return t.modalInnerEl=e},class:{"duet-modal-inner":true,"duet-modal-large":this.size==="large"},onClick:function(e){if(t.closeOnBlur){var i=e.target||e.srcElement;if(i===t.modalInnerEl){t.closeModal(e)}}}},h("div",{class:(e={"duet-modal":true},e[this.size]=true,e)},this.gutterSize!=="none"&&h("duet-spacer",null),h("div",{class:"duet-modal-close"},h("duet-button",{ref:function(e){return t.buttonEl=e},variation:"plain",accessibleLabel:this.accessibleCloseLabel,color:o,iconSize:"large",icon:"navigation-close",iconOnly:true,margin:"none",theme:this.theme,onClick:function(e){return t.closeModal(e)},fixed:true})),h("div",{class:{"duet-modal-body":true,"duet-modal-gutter-none":this.gutterSize==="none","duet-modal-gutter-small":this.gutterSize==="small","duet-modal-gutter-medium":this.gutterSize==="medium","duet-modal-gutter-large":this.gutterSize==="large"}},h("div",{class:"duet-modal-header"},h("span",{class:"duet-modal-inner-slot-top"},h("slot",{name:"top"})),this.icon&&h("duet-icon",{name:this.icon,size:"xx-large",color:this.color||a}),this.heading&&h("duet-heading",{"visual-level":(i=this.headingVisualLevel)!==null&&i!==void 0?i:this.headingLevel,level:this.headingLevel,theme:this.theme,id:this.modalId},this.heading)),h("span",{class:"duet-modal-inner-slot-default",id:this.slotDefaultId},h("slot",null))))),h(FocusGuard,{moveFocusTo:this.buttonEl}))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{open:["openChanged"],language:["watchLanguageStateHandler"],active:["activeChanged"]}},enumerable:false,configurable:true});return e}();DuetModal.style=duetModalCss;export{DuetModal as duet_modal};