var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function l(t){try{s(n["throw"](t))}catch(e){r(e)}}function s(t){t.done?o(t.value):i(t.value).then(a,l)}s((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(t){return function(e){return s([t,e])}}function s(l){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,l[0]&&(o=0)),o)try{if(n=1,i&&(r=l[0]&2?i["return"]:l[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,l[1])).done)return r;if(i=0,r)l=[l[0]&2,r.value];switch(l[0]){case 0:case 1:r=l;break;case 4:o.label++;return{value:l[1],done:false};case 5:o.label++;i=l[1];l=[0];continue;case 7:l=o.ops.pop();o.trys.pop();continue;default:if(!(r=o.trys,r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(l[0]===6&&o.label<r[1]){o.label=r[1];r=l;break}if(r&&o.label<r[2]){o.label=r[2];o.ops.push(l);break}if(r[2])o.ops.pop();o.trys.pop();continue}l=e.call(t,o)}catch(s){l=[6,s];i=0}finally{n=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var __rest=this&&this.__rest||function(t,e){var o={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)o[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))o[n[i]]=t[n[i]]}return o};var __spreadArray=this&&this.__spreadArray||function(t,e,o){if(o||arguments.length===2)for(var n=0,i=e.length,r;n<i;n++){if(r||!(n in e)){if(!r)r=Array.prototype.slice.call(e,0,n);r[n]=e[n]}}return t.concat(r||Array.prototype.slice.call(e))};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,h,H as Host,g as getElement}from"./index-b45ea754.js";import{m as media_query_medium,a as media_query_large}from"./tokens-f6b32339.js";import{i as inheritGlobalTheme}from"./themeable-component-cb76be7c.js";import{c as createID}from"./create-id-981107da.js";import{g as getLanguage,a as getLocaleString,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver}from"./language-utils-6be16ff0.js";import"./string-utils-5954f458.js";function getAlignment(t){return t.split("-")[1]}function getLengthFromAxis(t){return t==="y"?"height":"width"}function getSide(t){return t.split("-")[0]}function getMainAxisFromPlacement(t){return["top","bottom"].includes(getSide(t))?"x":"y"}function computeCoordsFromPlacement(t,e,o){var n=t.reference,i=t.floating;var r=n.x+n.width/2-i.width/2;var a=n.y+n.height/2-i.height/2;var l=getMainAxisFromPlacement(e);var s=getLengthFromAxis(l);var c=n[s]/2-i[s]/2;var u=getSide(e);var f=l==="x";var p;switch(u){case"top":p={x:r,y:n.y-i.height};break;case"bottom":p={x:r,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:a};break;case"left":p={x:n.x-i.width,y:a};break;default:p={x:n.x,y:n.y}}switch(getAlignment(e)){case"start":p[l]-=c*(o&&f?-1:1);break;case"end":p[l]+=c*(o&&f?-1:1);break}return p}var computePosition$1=function(t,e,o){return __awaiter(void 0,void 0,void 0,(function(){var n,i,r,a,l,s,c,u,f,p,d,g,m,h,v,b,w,y,x,_,S,C,E,L,T,A;var P,O;return __generator(this,(function(k){switch(k.label){case 0:n=o.placement,i=n===void 0?"bottom":n,r=o.strategy,a=r===void 0?"absolute":r,l=o.middleware,s=l===void 0?[]:l,c=o.platform;u=s.filter(Boolean);return[4,c.isRTL==null?void 0:c.isRTL(e)];case 1:f=k.sent();return[4,c.getElementRects({reference:t,floating:e,strategy:a})];case 2:p=k.sent();d=computeCoordsFromPlacement(p,i,f),g=d.x,m=d.y;h=i;v={};b=0;w=0;k.label=3;case 3:if(!(w<u.length))return[3,11];y=u[w],x=y.name,_=y.fn;return[4,_({x:g,y:m,initialPlacement:i,placement:h,strategy:a,middlewareData:v,rects:p,platform:c,elements:{reference:t,floating:e}})];case 4:S=k.sent(),C=S.x,E=S.y,L=S.data,T=S.reset;g=C!=null?C:g;m=E!=null?E:m;v=__assign(__assign({},v),(P={},P[x]=__assign(__assign({},v[x]),L),P));if(!(T&&b<=50))return[3,10];b++;if(!(typeof T==="object"))return[3,9];if(T.placement){h=T.placement}if(!T.rects)return[3,8];if(!(T.rects===true))return[3,6];return[4,c.getElementRects({reference:t,floating:e,strategy:a})];case 5:A=k.sent();return[3,7];case 6:A=T.rects;k.label=7;case 7:p=A;k.label=8;case 8:O=computeCoordsFromPlacement(p,h,f),g=O.x,m=O.y;k.label=9;case 9:w=-1;return[3,10];case 10:w++;return[3,3];case 11:return[2,{x:g,y:m,placement:h,strategy:a,middlewareData:v}]}}))}))};function expandPaddingObject(t){return __assign({top:0,right:0,bottom:0,left:0},t)}function getSideObjectFromPadding(t){return typeof t!=="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){return __assign(__assign({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function detectOverflow(t,e){return __awaiter(this,void 0,void 0,(function(){var o,n,i,r,a,l,s,c,u,f,p,d,g,m,h,v,b,w,y,x,_,S,C,E,L,T,A,P,O,k,R,D,N;var F;return __generator(this,(function(M){switch(M.label){case 0:if(e===void 0){e={}}n=t.x,i=t.y,r=t.platform,a=t.rects,l=t.elements,s=t.strategy;c=e.boundary,u=c===void 0?"clippingAncestors":c,f=e.rootBoundary,p=f===void 0?"viewport":f,d=e.elementContext,g=d===void 0?"floating":d,m=e.altBoundary,h=m===void 0?false:m,v=e.padding,b=v===void 0?0:v;w=getSideObjectFromPadding(b);y=g==="floating"?"reference":"floating";x=l[h?y:g];S=rectToClientRect;E=(C=r).getClippingRect;F={};return[4,r.isElement==null?void 0:r.isElement(x)];case 1:if(!((o=M.sent())!=null?o:true))return[3,2];L=x;return[3,5];case 2:T=x.contextElement;if(T)return[3,4];return[4,r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)];case 3:T=M.sent();M.label=4;case 4:L=T;M.label=5;case 5:return[4,E.apply(C,[(F.element=L,F.boundary=u,F.rootBoundary=p,F.strategy=s,F)])];case 6:_=S.apply(void 0,[M.sent()]);A=g==="floating"?__assign(__assign({},a.floating),{x:n,y:i}):a.reference;return[4,r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)];case 7:P=M.sent();return[4,r.isElement==null?void 0:r.isElement(P)];case 8:if(!M.sent())return[3,10];return[4,r.getScale==null?void 0:r.getScale(P)];case 9:k=M.sent()||{x:1,y:1};return[3,11];case 10:k={x:1,y:1};M.label=11;case 11:O=k;D=rectToClientRect;if(!r.convertOffsetParentRelativeRectToViewportRelativeRect)return[3,13];return[4,r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:A,offsetParent:P,strategy:s})];case 12:N=M.sent();return[3,14];case 13:N=A;M.label=14;case 14:R=D.apply(void 0,[N]);return[2,{top:(_.top-R.top+w.top)/O.y,bottom:(R.bottom-_.bottom+w.bottom)/O.y,left:(_.left-R.left+w.left)/O.x,right:(R.right-_.right+w.right)/O.x}]}}))}))}var min$1=Math.min;var max$1=Math.max;function within(t,e,o){return max$1(t,min$1(e,o))}var arrow=function(t){return{name:"arrow",options:t,fn:function(e){return __awaiter(this,void 0,void 0,(function(){var o,n,i,r,a,l,s,c,u,f,p,d,g,m,h,v,b,w,y,x,_,S,C,E,L,T,A,P,O,k,R;var D,N;return __generator(this,(function(F){switch(F.label){case 0:o=t||{},n=o.element,i=o.padding,r=i===void 0?0:i;a=e.x,l=e.y,s=e.placement,c=e.rects,u=e.platform,f=e.elements;if(n==null){return[2,{}]}p=getSideObjectFromPadding(r);d={x:a,y:l};g=getMainAxisFromPlacement(s);m=getLengthFromAxis(g);return[4,u.getDimensions(n)];case 1:h=F.sent();v=g==="y";b=v?"top":"left";w=v?"bottom":"right";y=v?"clientHeight":"clientWidth";x=c.reference[m]+c.reference[g]-d[g]-c.floating[m];_=d[g]-c.reference[g];return[4,u.getOffsetParent==null?void 0:u.getOffsetParent(n)];case 2:S=F.sent();C=S?S[y]:0;E=!C;if(E)return[3,4];return[4,u.isElement==null?void 0:u.isElement(S)];case 3:E=!F.sent();F.label=4;case 4:if(E){C=f.floating[y]||c.floating[m]}L=x/2-_/2;T=p[b];A=C-h[m]-p[w];P=C/2-h[m]/2+L;O=within(T,P,A);k=getAlignment(s)!=null&&P!=O&&c.reference[m]/2-(P<T?p[b]:p[w])-h[m]/2<0;R=k?P<T?T-P:A-P:0;return[2,(D={},D[g]=d[g]-R,D.data=(N={},N[g]=O,N.centerOffset=P-O,N),D)]}}))}))}}};var oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,(function(t){return oppositeSideMap[t]}))}function getAlignmentSides(t,e,o){if(o===void 0){o=false}var n=getAlignment(t);var i=getMainAxisFromPlacement(t);var r=getLengthFromAxis(i);var a=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";if(e.reference[r]>e.floating[r]){a=getOppositePlacement(a)}return{main:a,cross:getOppositePlacement(a)}}var oppositeAlignmentMap={start:"end",end:"start"};function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,(function(t){return oppositeAlignmentMap[t]}))}function getExpandedPlacements(t){var e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getSideList(t,e,o){var n=["left","right"];var i=["right","left"];var r=["top","bottom"];var a=["bottom","top"];switch(t){case"top":case"bottom":if(o)return e?i:n;return e?n:i;case"left":case"right":return e?r:a;default:return[]}}function getOppositeAxisPlacements(t,e,o,n){var i=getAlignment(t);var r=getSideList(getSide(t),o==="start",n);if(i){r=r.map((function(t){return t+"-"+i}));if(e){r=r.concat(r.map(getOppositeAlignmentPlacement))}}return r}var flip=function(t){if(t===void 0){t={}}return{name:"flip",options:t,fn:function(e){return __awaiter(this,void 0,void 0,(function(){var o,n,i,r,a,l,s,c,u,f,p,d,g,m,h,v,b,w,y,x,_,S,C,E,L,T,A,P,O,k,R,D,N,F,M,B,j;return __generator(this,(function(H){switch(H.label){case 0:n=e.placement,i=e.middlewareData,r=e.rects,a=e.initialPlacement,l=e.platform,s=e.elements;c=t.mainAxis,u=c===void 0?true:c,f=t.crossAxis,p=f===void 0?true:f,d=t.fallbackPlacements,g=t.fallbackStrategy,m=g===void 0?"bestFit":g,h=t.fallbackAxisSideDirection,v=h===void 0?"none":h,b=t.flipAlignment,w=b===void 0?true:b,y=__rest(t,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);x=getSide(n);_=getSide(a)===a;return[4,l.isRTL==null?void 0:l.isRTL(s.floating)];case 1:S=H.sent();C=d||(_||!w?[getOppositePlacement(a)]:getExpandedPlacements(a));if(!d&&v!=="none"){C.push.apply(C,getOppositeAxisPlacements(a,w,v,S))}E=__spreadArray([a],C,true);return[4,detectOverflow(e,y)];case 2:L=H.sent();T=[];A=((o=i.flip)==null?void 0:o.overflows)||[];if(u){T.push(L[x])}if(p){P=getAlignmentSides(n,r,S),O=P.main,k=P.cross;T.push(L[O],L[k])}A=__spreadArray(__spreadArray([],A,true),[{placement:n,overflows:T}],false);if(!T.every((function(t){return t<=0}))){N=(((R=i.flip)==null?void 0:R.index)||0)+1;F=E[N];if(F){return[2,{data:{index:N,overflows:A},reset:{placement:F}}]}M=(D=A.filter((function(t){return t.overflows[0]<=0})).sort((function(t,e){return t.overflows[1]-e.overflows[1]}))[0])==null?void 0:D.placement;if(!M){switch(m){case"bestFit":{j=(B=A.map((function(t){return[t.placement,t.overflows.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0)]})).sort((function(t,e){return t[1]-e[1]}))[0])==null?void 0:B[0];if(j){M=j}break}case"initialPlacement":M=a;break}}if(n!==M){return[2,{reset:{placement:M}}]}}return[2,{}]}}))}))}}};function getCrossAxis(t){return t==="x"?"y":"x"}var shift=function(t){if(t===void 0){t={}}return{name:"shift",options:t,fn:function(e){return __awaiter(this,void 0,void 0,(function(){var o,n,i,r,a,l,s,c,u,f,p,d,g,m,h,v,b,w,y,x,b,w,_,S,C;var E;return __generator(this,(function(L){switch(L.label){case 0:o=e.x,n=e.y,i=e.placement;r=t.mainAxis,a=r===void 0?true:r,l=t.crossAxis,s=l===void 0?false:l,c=t.limiter,u=c===void 0?{fn:function(t){var e=t.x,o=t.y;return{x:e,y:o}}}:c,f=__rest(t,["mainAxis","crossAxis","limiter"]);p={x:o,y:n};return[4,detectOverflow(e,f)];case 1:d=L.sent();g=getMainAxisFromPlacement(getSide(i));m=getCrossAxis(g);h=p[g];v=p[m];if(a){b=g==="y"?"top":"left";w=g==="y"?"bottom":"right";y=h+d[b];x=h-d[w];h=within(y,h,x)}if(s){b=m==="y"?"top":"left";w=m==="y"?"bottom":"right";_=v+d[b];S=v-d[w];v=within(_,v,S)}C=u.fn(__assign(__assign({},e),(E={},E[g]=h,E[m]=v,E)));return[2,__assign(__assign({},C),{data:{x:C.x-o,y:C.y-n}})]}}))}))}}};function getWindow(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function isNode(t){return t instanceof getWindow(t).Node}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():""}function isHTMLElement(t){return t instanceof getWindow(t).HTMLElement}function isElement(t){return t instanceof getWindow(t).Element}function isShadowRoot(t){if(typeof ShadowRoot==="undefined"){return false}var e=getWindow(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function isOverflowElement(t){var e=getComputedStyle$1(t),o=e.overflow,n=e.overflowX,i=e.overflowY,r=e.display;return/auto|scroll|overlay|hidden|clip/.test(o+i+n)&&!["inline","contents"].includes(r)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isContainingBlock(t){var e=isSafari();var o=getComputedStyle$1(t);return o.transform!=="none"||o.perspective!=="none"||!e&&(o.backdropFilter?o.backdropFilter!=="none":false)||!e&&(o.filter?o.filter!=="none":false)||["transform","perspective","filter"].some((function(t){return(o.willChange||"").includes(t)}))||["paint","layout","strict","content"].some((function(t){return(o.contain||"").includes(t)}))}function isSafari(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}var min=Math.min;var max=Math.max;var round=Math.round;function getCssDimensions(t){var e=getComputedStyle$1(t);var o=parseFloat(e.width)||0;var n=parseFloat(e.height)||0;var i=isHTMLElement(t);var r=i?t.offsetWidth:o;var a=i?t.offsetHeight:n;var l=round(o)!==r||round(n)!==a;if(l){o=r;n=a}return{width:o,height:n,fallback:l}}function unwrapElement(t){return!isElement(t)?t.contextElement:t}var FALLBACK_SCALE={x:1,y:1};function getScale(t){var e=unwrapElement(t);if(!isHTMLElement(e)){return FALLBACK_SCALE}var o=e.getBoundingClientRect();var n=getCssDimensions(e),i=n.width,r=n.height,a=n.fallback;var l=(a?round(o.width):o.width)/i;var s=(a?round(o.height):o.height)/r;if(!l||!Number.isFinite(l)){l=1}if(!s||!Number.isFinite(s)){s=1}return{x:l,y:s}}var noOffsets={x:0,y:0};function getVisualOffsets(t,e,o){var n,i;if(e===void 0){e=true}if(!isSafari()){return noOffsets}var r=t?getWindow(t):window;if(!o||e&&o!==r){return noOffsets}return{x:((n=r.visualViewport)==null?void 0:n.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function getBoundingClientRect(t,e,o,n){if(e===void 0){e=false}if(o===void 0){o=false}var i=t.getBoundingClientRect();var r=unwrapElement(t);var a=FALLBACK_SCALE;if(e){if(n){if(isElement(n)){a=getScale(n)}}else{a=getScale(t)}}var l=getVisualOffsets(r,o,n);var s=(i.left+l.x)/a.x;var c=(i.top+l.y)/a.y;var u=i.width/a.x;var f=i.height/a.y;if(r){var p=getWindow(r);var d=n&&isElement(n)?getWindow(n):n;var g=p.frameElement;while(g&&n&&d!==p){var m=getScale(g);var h=g.getBoundingClientRect();var v=getComputedStyle(g);h.x+=(g.clientLeft+parseFloat(v.paddingLeft))*m.x;h.y+=(g.clientTop+parseFloat(v.paddingTop))*m.y;s*=m.x;c*=m.y;u*=m.x;f*=m.y;s+=h.x;c+=h.y;g=getWindow(g).frameElement}}return rectToClientRect({width:u,height:f,x:s,y:c})}function getDocumentElement(t){return((isNode(t)?t.ownerDocument:t.document)||window.document).documentElement}function getNodeScroll(t){if(isElement(t)){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){var e=t.rect,o=t.offsetParent,n=t.strategy;var i=isHTMLElement(o);var r=getDocumentElement(o);if(o===r){return e}var a={scrollLeft:0,scrollTop:0};var l={x:1,y:1};var s={x:0,y:0};if(i||!i&&n!=="fixed"){if(getNodeName(o)!=="body"||isOverflowElement(r)){a=getNodeScroll(o)}if(isHTMLElement(o)){var c=getBoundingClientRect(o);l=getScale(o);s.x=c.x+o.clientLeft;s.y=c.y+o.clientTop}}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-a.scrollLeft*l.x+s.x,y:e.y*l.y-a.scrollTop*l.y+s.y}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getNodeScroll(t).scrollLeft}function getDocumentRect(t){var e=getDocumentElement(t);var o=getNodeScroll(t);var n=t.ownerDocument.body;var i=max(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth);var r=max(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);var a=-o.scrollLeft+getWindowScrollBarX(t);var l=-o.scrollTop;if(getComputedStyle$1(n).direction==="rtl"){a+=max(e.clientWidth,n.clientWidth)-i}return{width:i,height:r,x:a,y:l}}function getParentNode(t){if(getNodeName(t)==="html"){return t}var e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){var e=getParentNode(t);if(isLastTraversableNode(e)){return e.ownerDocument.body}if(isHTMLElement(e)&&isOverflowElement(e)){return e}return getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e){var o;if(e===void 0){e=[]}var n=getNearestOverflowAncestor(t);var i=n===((o=t.ownerDocument)==null?void 0:o.body);var r=getWindow(n);if(i){return e.concat(r,r.visualViewport||[],isOverflowElement(n)?n:[])}return e.concat(n,getOverflowAncestors(n))}function getViewportRect(t,e){var o=getWindow(t);var n=getDocumentElement(t);var i=o.visualViewport;var r=n.clientWidth;var a=n.clientHeight;var l=0;var s=0;if(i){r=i.width;a=i.height;var c=isSafari();if(!c||c&&e==="fixed"){l=i.offsetLeft;s=i.offsetTop}}return{width:r,height:a,x:l,y:s}}function getInnerBoundingClientRect(t,e){var o=getBoundingClientRect(t,true,e==="fixed");var n=o.top+t.clientTop;var i=o.left+t.clientLeft;var r=isHTMLElement(t)?getScale(t):{x:1,y:1};var a=t.clientWidth*r.x;var l=t.clientHeight*r.y;var s=i*r.x;var c=n*r.y;return{width:a,height:l,x:s,y:c}}function getClientRectFromClippingAncestor(t,e,o){var n;if(e==="viewport"){n=getViewportRect(t,o)}else if(e==="document"){n=getDocumentRect(getDocumentElement(t))}else if(isElement(e)){n=getInnerBoundingClientRect(e,o)}else{var i=getVisualOffsets(t);n=__assign(__assign({},e),{x:e.x-i.x,y:e.y-i.y})}return rectToClientRect(n)}function hasFixedPositionAncestor(t,e){var o=getParentNode(t);if(o===e||!isElement(o)||isLastTraversableNode(o)){return false}return getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,e)}function getClippingElementAncestors(t,e){var o=e.get(t);if(o){return o}var n=getOverflowAncestors(t).filter((function(t){return isElement(t)&&getNodeName(t)!=="body"}));var i=null;var r=getComputedStyle$1(t).position==="fixed";var a=r?getParentNode(t):t;while(isElement(a)&&!isLastTraversableNode(a)){var l=getComputedStyle$1(a);var s=isContainingBlock(a);if(!s&&l.position==="fixed"){i=null}var c=r?!s&&!i:!s&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||isOverflowElement(a)&&!s&&hasFixedPositionAncestor(t,a);if(c){n=n.filter((function(t){return t!==a}))}else{i=l}a=getParentNode(a)}e.set(t,n);return n}function getClippingRect(t){var e=t.element,o=t.boundary,n=t.rootBoundary,i=t.strategy;var r=o==="clippingAncestors"?getClippingElementAncestors(e,this._c):[].concat(o);var a=__spreadArray(__spreadArray([],r,true),[n],false);var l=a[0];var s=a.reduce((function(t,o){var n=getClientRectFromClippingAncestor(e,o,i);t.top=max(n.top,t.top);t.right=min(n.right,t.right);t.bottom=min(n.bottom,t.bottom);t.left=max(n.left,t.left);return t}),getClientRectFromClippingAncestor(e,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function getDimensions(t){return getCssDimensions(t)}function getTrueOffsetParent(t,e){if(!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed"){return null}if(e){return e(t)}return t.offsetParent}function getContainingBlock(t){var e=getParentNode(t);while(isHTMLElement(e)&&!isLastTraversableNode(e)){if(isContainingBlock(e)){return e}else{e=getParentNode(e)}}return null}function getOffsetParent(t,e){var o=getWindow(t);if(!isHTMLElement(t)){return o}var n=getTrueOffsetParent(t,e);while(n&&isTableElement(n)&&getComputedStyle$1(n).position==="static"){n=getTrueOffsetParent(n,e)}if(n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle$1(n).position==="static"&&!isContainingBlock(n))){return o}return n||getContainingBlock(t)||o}function getRectRelativeToOffsetParent(t,e,o){var n=isHTMLElement(e);var i=getDocumentElement(e);var r=o==="fixed";var a=getBoundingClientRect(t,true,r,e);var l={scrollLeft:0,scrollTop:0};var s={x:0,y:0};if(n||!n&&!r){if(getNodeName(e)!=="body"||isOverflowElement(i)){l=getNodeScroll(e)}if(isHTMLElement(e)){var c=getBoundingClientRect(e,true,r,e);s.x=c.x+e.clientLeft;s.y=c.y+e.clientTop}else if(i){s.x=getWindowScrollBarX(i)}}return{x:a.left+l.scrollLeft-s.x,y:a.top+l.scrollTop-s.y,width:a.width,height:a.height}}var platform={getClippingRect:getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect:convertOffsetParentRelativeRectToViewportRelativeRect,isElement:isElement,getDimensions:getDimensions,getOffsetParent:getOffsetParent,getDocumentElement:getDocumentElement,getScale:getScale,getElementRects:function(t){return __awaiter(this,void 0,void 0,(function(){var e,o,n,i,r,a,l,s;var c;return __generator(this,(function(u){switch(u.label){case 0:e=t.reference,o=t.floating,n=t.strategy;i=this.getOffsetParent||getOffsetParent;r=this.getDimensions;c={};a=getRectRelativeToOffsetParent;l=[e];return[4,i(o)];case 1:c.reference=a.apply(void 0,l.concat([u.sent(),n]));s=[{x:0,y:0}];return[4,r(o)];case 2:return[2,(c.floating=__assign.apply(void 0,s.concat([u.sent()])),c)]}}))}))},getClientRects:function(t){return Array.from(t.getClientRects())},isRTL:function(t){return getComputedStyle$1(t).direction==="rtl"}};var computePosition=function(t,e,o){var n=new Map;var i=__assign({platform:platform},o);var r=__assign(__assign({},i.platform),{_c:n});return computePosition$1(t,e,__assign(__assign({},i),{platform:r}))};var duetTooltipCss='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;z-index:200;display:inline-flex;width:auto;margin-top:-16px !important;margin-left:-3px !important;-webkit-tap-highlight-color:transparent}.duet-tooltip{position:absolute;z-index:950;display:none;width:282px;min-height:48px;max-height:340px;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);visibility:hidden;background:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;box-shadow:0 2px 10px 0 rgba(0, 41, 77, 0.07);opacity:0;transition:300ms ease;transform-origin:100% 100%}.duet-tooltip.duet-theme-turva{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58);border-color:rgb(228, 228, 230);box-shadow:0 2px 10px 0 rgba(117, 117, 117, 0.13)}.duet-tooltip .arrow{position:absolute;width:22px;height:22px;pointer-events:none}.duet-tooltip .arrow.bottom,.duet-tooltip .arrow.bottom-start,.duet-tooltip .arrow.bottom-end{top:-21px}.duet-tooltip .arrow-container{position:relative;width:100%;height:100%;pointer-events:none}.duet-tooltip .arrow-container::after{position:absolute;z-index:200;width:0;height:0;pointer-events:none;content:""}.duet-tooltip .arrow-container::before{position:absolute;z-index:100;width:0;height:0;pointer-events:none;content:""}.duet-tooltip .arrow-container.top::after,.duet-tooltip .arrow-container.top-start::after,.duet-tooltip .arrow-container.top-end::after{bottom:2px;left:2px;border:10px solid transparent;border-top:10px solid rgb(255, 255, 255)}.duet-tooltip .arrow-container.top::before,.duet-tooltip .arrow-container.top-start::before,.duet-tooltip .arrow-container.top-end::before{bottom:-1px;left:1px;border:11px solid transparent;border-top:11px solid rgb(225, 227, 230)}.duet-theme-turva .duet-tooltip .arrow-container.top::before,.duet-theme-turva .duet-tooltip .arrow-container.top-start::before,.duet-theme-turva .duet-tooltip .arrow-container.top-end::before{border-top:11px solid rgb(228, 228, 230)}.duet-tooltip .arrow-container.bottom::after,.duet-tooltip .arrow-container.bottom-start::after,.duet-tooltip .arrow-container.bottom-end::after{bottom:1px;left:2px;border:10px solid transparent;border-bottom:10px solid rgb(255, 255, 255)}.duet-tooltip .arrow-container.bottom::before,.duet-tooltip .arrow-container.bottom-start::before,.duet-tooltip .arrow-container.bottom-end::before{bottom:1px;left:1px;border:11px solid transparent;border-bottom:11px solid rgb(225, 227, 230)}.duet-theme-turva .duet-tooltip .arrow-container.bottom::before,.duet-theme-turva .duet-tooltip .arrow-container.bottom-start::before,.duet-theme-turva .duet-tooltip .arrow-container.bottom-end::before{border-top:11px solid rgb(228, 228, 230)}.duet-tooltip.duet-tooltip-has-label{right:auto !important;left:0;width:282px !important;transform-origin:0 0 !important}.duet-tooltip.duet-tooltip-active{visibility:visible;opacity:1;transition-property:transform, opacity}.duet-tooltip-button{z-index:100;display:inline-block;align-items:center;justify-content:center;min-width:48px;height:48px;padding:0 !important;margin-right:-12px;line-height:normal !important;color:rgb(0, 119, 179);white-space:nowrap;cursor:pointer;background:transparent !important;border-radius:4px}.duet-tooltip-button.duet-theme-turva{color:rgb(198, 12, 48)}.duet-tooltip-button:hover{color:rgb(0, 77, 128)}.duet-tooltip-button:hover.duet-theme-turva{color:rgb(148, 9, 37)}.duet-tooltip-button:focus{background:transparent !important;outline:0}:host(.user-is-tabbing) .duet-tooltip-button:focus{background:transparent !important;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px rgb(0, 119, 179) !important}:host(.user-is-tabbing) .duet-tooltip-button.duet-theme-turva:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58) !important}.duet-tooltip-button svg{width:20px;height:20px;pointer-events:none}.duet-tooltip-button-has-label{margin-right:0}.duet-tooltip-scrollable{padding:20px !important;width:100%;max-height:250px;padding-right:25px !important;overflow-y:auto;-webkit-hyphens:auto;hyphens:auto;border-radius:4px;-webkit-overflow-scrolling:touch}.duet-tooltip-scrollable:focus{outline:none}:host(.user-is-tabbing) .duet-tooltip-scrollable:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px rgb(0, 119, 179)}:host(.user-is-tabbing) .duet-theme-turva .duet-tooltip-scrollable:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58)}.duet-tooltip-scrollable::-webkit-scrollbar{width:4px}.duet-tooltip-scrollable::-webkit-scrollbar-track{border-radius:4px}.duet-tooltip-scrollable::-webkit-scrollbar-thumb{background:rgb(225, 227, 230);border-radius:4px}.duet-theme-turva .duet-tooltip-scrollable::-webkit-scrollbar-thumb{background:rgb(228, 228, 230)}.duet-tooltip-label{position:relative;z-index:100;display:inline-block;max-width:calc(100% - 30px);margin-left:12px !important;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:600;line-height:1.25;text-align:left;white-space:normal;vertical-align:top}.duet-theme-turva .duet-tooltip-label{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}.duet-tooltip-close{position:absolute;top:8px;right:8px;display:flex;align-items:center;justify-content:center;width:17px;height:17px;min-height:0 !important;padding:0 !important;margin:0 !important;line-height:normal;color:rgb(0, 41, 77);cursor:pointer;background:rgb(245, 248, 250);border-radius:50%;-webkit-appearance:none;appearance:none}.duet-tooltip-close:focus{outline:none;box-shadow:0 0 0 2px rgb(0, 119, 179)}.duet-theme-turva .duet-tooltip-close:focus{color:rgb(23, 28, 58);box-shadow:0 0 0 2px rgb(23, 28, 58)}';var DuetTooltip=function(){function t(t){var e=this;registerInstance(this,t);this.mql=[window.matchMedia(media_query_medium.replace(/'/g,"")),window.matchMedia(media_query_large.replace(/'/g,""))];this.tooltipId=createID("DuetTooltip");this.openTooltip=function(){e.focusTarget="tooltip";e.active=true};this.closeTooltip=function(t){if(t===void 0){t=false}if(t){e.focusTarget="trigger"}e.active=false};this.toggleOpen=function(){e.active?e.closeTooltip():e.openTooltip()};this.handleFocusOut=function(t){if(!e.active){return}var o=t.relatedTarget;if(o==null||e.element.shadowRoot.contains(o)||e.element.contains(o)){return}e.closeTooltip()};this.handleKeyDown=function(t){var o=t.keyCode===27;var n=t.target===e.scrollableEl&&t.shiftKey&&t.keyCode===9;if(o||n){e.closeTooltip(true)}};this.handleCloseClick=function(){e.closeTooltip(true)};this.updatePlacement=function(){return __awaiter(e,void 0,void 0,(function(){var t,e,o,n,i;return __generator(this,(function(r){switch(r.label){case 0:o=true;if(this.breakpoint==="large"&&!this.mql[1].matches){o=false}else if(this.breakpoint==="medium"&&!this.mql[0].matches){o=false}n=o?"top-start":"top-end";if(this.direction==="left"){n="top-end"}else if(this.direction==="right"){n="top-start"}return[4,computePosition(this.buttonEl,this.tooltipEl,{placement:n,middleware:[flip(),shift({padding:5}),arrow({element:this.arrowEl})]})];case 1:i=r.sent();this.tooltipY=i.y;this.tooltipX=i.x;this.placement=i.placement;this.arrowY=(t=i.middlewareData.arrow)===null||t===void 0?void 0:t.y;this.arrowX=(e=i.middlewareData.arrow)===null||e===void 0?void 0:e.x;return[2]}}))}))};this.placement="bottom";this.tooltipY=undefined;this.tooltipX=undefined;this.arrowX=undefined;this.arrowY=undefined;this.theme="";this.language=getLanguage();this.accessibleLabelDefault={fi:"Näytä lisätietoja",en:"Show more information",sv:"Visa mer tilläggsuppgifter"};this.accessibleLabel=getLocaleString(this.accessibleLabelDefault,this.language);this.accessibleInputLabel=undefined;this.accessibleCloseLabelDefault={fi:"Sulje lisätiedot",en:"Close details",sv:"Stäng tilläggsuppgifter"};this.accessibleCloseLabel=getLocaleString(this.accessibleCloseLabelDefault,this.language);this.label="";this.breakpoint="medium";this.direction="auto";this.positionVertical="0";this.positionHorizontal="0";this.active=false}t.prototype.watchLanguageStateHandler=function(t,e){if(t!==e&&this.accessibleLabel===this.accessibleLabelDefault[e]){this.accessibleLabel=getLocaleString(this.accessibleLabelDefault,t)}if(t!==e&&this.accessibleCloseLabel===this.accessibleCloseLabelDefault[e]){this.accessibleCloseLabel=getLocaleString(this.accessibleCloseLabelDefault,t)}};t.prototype.componentWillLoad=function(){inheritGlobalTheme(this)};t.prototype.componentDidLoad=function(){{this.updatePlacement()}};t.prototype.componentDidUpdate=function(){switch(this.focusTarget){case"tooltip":this.scrollableEl.focus({preventScroll:true});break;case"trigger":this.buttonEl.focus({preventScroll:true});break}this.focusTarget=null};t.prototype.connectedCallback=function(){connectLanguageChangeObserver(this)};t.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this)};t.prototype.onScroll=function(){var t=this;clearTimeout(this.scrollTimer);this.scrollTimer=setTimeout((function(){if(t.active){t.updatePlacement()}}),100)};t.prototype.handleWindowResize=function(){var t=this;clearTimeout(this.resizeTimer);this.resizeTimer=setTimeout((function(){t.updatePlacement()}),100)};t.prototype.handleDocumentClick=function(t){var e=this;if(!this.active){return}var o=t.composedPath();var n=o.every((function(t){return t!==e.element}));if(n){this.closeTooltip()}};t.prototype.handleActiveChange=function(t){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(o){if(t){this.updatePlacement()}else{setTimeout((function(){return e.updatePlacement()}),300)}return[2]}))}))};t.prototype.render=function(){var t,e;var o=this;var n={transform:"translateY(".concat(this.positionVertical,") translateX(").concat(this.positionHorizontal,")"),zIndex:this.active?"201":""};var i={top:"".concat(this.tooltipY,"px"),left:"".concat(this.tooltipX,"px"),display:"block"};var r={top:this.arrowY?"".concat(this.arrowY,"px"):undefined,left:this.arrowX?"".concat(this.arrowX,"px"):undefined};return h(Host,{style:n},h("button",{ref:function(t){return o.buttonEl=t},"aria-controls":this.tooltipId,"aria-expanded":this.active?"true":"false",onClick:this.toggleOpen,type:"button",class:{"duet-tooltip-button":true,"duet-tooltip-button-has-label":!!this.label,"duet-theme-turva":this.theme==="turva"}},h("svg",{"aria-hidden":"true",role:"img",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"m13.5 17.25c-1.241 0-2.25-1.009-2.25-2.25v-3.75h-.75c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h.75c.827 0 1.5.673 1.5 1.5v3.75c0 .414.336.75.75.75h.75c.414 0 .75.336.75.75s-.336.75-.75.75z"}),h("circle",{cx:"11.625",cy:"7.125",r:"1.125"}),h("path",{d:"m12 24c-6.617 0-12-5.383-12-12s5.383-12 12-12 12 5.383 12 12-5.383 12-12 12zm0-22.5c-5.79 0-10.5 4.71-10.5 10.5s4.71 10.5 10.5 10.5 10.5-4.71 10.5-10.5-4.71-10.5-10.5-10.5z"})),this.label?h("span",{class:"duet-tooltip-label"},this.label):h("duet-visually-hidden",null,this.accessibleInputLabel?"".concat(this.accessibleInputLabel,", ").concat(this.accessibleLabel):this.accessibleLabel)),h("div",{ref:function(t){return o.tooltipEl=t},style:i,class:{"duet-tooltip":true,"duet-theme-turva":this.theme==="turva","duet-tooltip-has-label":!!this.label,"duet-tooltip-active":this.active===true},onClick:function(t){return t.stopPropagation()},onKeyDown:this.handleKeyDown,onFocusout:this.handleFocusOut},h("div",{ref:function(t){return o.scrollableEl=t},class:"duet-tooltip-scrollable",tabindex:"0",id:this.tooltipId},h("slot",null)),h("div",{ref:function(t){return o.arrowEl=t},class:(t={arrow:true},t[this.placement]=true,t),style:r},h("div",{class:(e={"arrow-container":true},e[this.placement]=true,e)})),h("button",{type:"button",class:"duet-tooltip-close",onClick:this.handleCloseClick},h("duet-icon",{name:"navigation-close-small",margin:"none",color:"currentColor",size:"xxx-small"}),h("duet-visually-hidden",null,this.accessibleCloseLabel))))};Object.defineProperty(t.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{language:["watchLanguageStateHandler"],active:["handleActiveChange"]}},enumerable:false,configurable:true});return t}();DuetTooltip.style=duetTooltipCss;export{DuetTooltip as duet_tooltip};