var __awaiter=this&&this.__awaiter||function(e,t,i,n){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function o(e){try{l(n["throw"](e))}catch(t){r(t)}}function l(e){e.done?i(e.value):a(e.value).then(s,o)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,a,r,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(s&&(s=0,o[0]&&(i=0)),i)try{if(n=1,a&&(r=o[0]&2?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;if(a=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:i.label++;return{value:o[1],done:false};case 5:i.label++;a=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(o[0]===6&&i.label<r[1]){i.label=r[1];r=o;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(o);break}if(r[2])i.ops.pop();i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l];a=0}finally{n=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,c as createEvent,h,F as Fragment,H as Host,g as getElement}from"./index-b45ea754.js";import{i as inheritGlobalTheme}from"./themeable-component-cb76be7c.js";import{c as createID}from"./create-id-981107da.js";import{d as debounce}from"./js-utils-fa98b8cd.js";import{k as isArrowKey,l as isNumber,d as isArrowLeftKey,b as isArrowUpKey,a as isArrowRightKey,c as isArrowDownKey,m as isMinusKey,n as isPlusKey}from"./keyboard-utils-d237bd5a.js";import{g as getLanguage,a as getLocaleString,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver}from"./language-utils-6be16ff0.js";import"./string-utils-5954f458.js";var shouldDisplayNavigation=function(e,t,i){if(e*2>t/i){return false}return true};var duetPaginationCss="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-pagination-nav{position:relative}.duet-pagination ::part(button){border:0}.duet-pagination,.duet-pagination li{display:flex;flex-wrap:wrap;gap:0.1rem;align-items:center}.duet-pagination-item-is-active .duet-pagination-page-number{border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:2px}.duet-pagination duet-button{width:30px;min-width:36px;font-weight:600;text-decoration:none;border-left-width:0}.duet-pagination-overlay{position:absolute;top:1rem;z-index:300;width:100%;text-align:center}.duet-pagination.duet-pagination-is-dimmed{opacity:0.5}";var DuetPagination=function(){function e(e){var t=this;registerInstance(this,e);this.duetPageChange=createEvent(this,"duetPageChange",3);this.listId=createID("duet-pagination-list");this.actionChain=function(e,i){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:if(!(e===0))return[3,1];this.current=1;return[3,3];case 1:if(!(i!==e))return[3,3];t=Math.ceil(e/this.visibleItems)-1;if(!(t!==this.internalSectionIndex))return[3,3];this.internalSectionIndex=t;return[4,this.setFocus()];case 2:n.sent();n.label=3;case 3:return[2,true]}}))}))};this.emitPageEvent=debounce((function(e,i){var n=Number(i||t.current);t.duetPageChange.emit({component:"duet-pagination",from:n*t.take,to:n*t.take+t.take,current:n,take:t.take,type:"page",originalEvent:e})}),100);this.getEnteredNumber=debounce((function(e){t.emitPageEvent(e,t.numbersStore);t.current=Number(t.numbersStore);t.numbersStore="";t.duetPageChange.emit({component:"duet-pagination",from:t.current*t.take,to:t.current*t.take+t.take,current:t.current,take:t.take,type:"jump",originalEvent:e})}),500);this.numbersStore="";this.totalPages=10;this.internalSectionIndex=0;this.language=getLanguage();this.theme="";this.jumpString="...";this.variation="default";this.accessibleDescribedBy=undefined;this.accessibleDetails=undefined;this.accessibleLabelledBy=undefined;this.accessibleDescription=undefined;this.accessibleLabelsDefaults={en:{next_page:"Next page",previous_page:"Previous page",first_page:"First page",last_page:"Last page",jump_to:"Jump to page",go_to:"Go to page",description:"You may use arrow keys to select page number",pagination_label:"Pagination, choose a number to jump to a page",prev_section:"Show previous {0} page numbers, screen reader user should use arrowkeys to navigate",next_section:"Show next {0} page numbers, screen reader user should use arrowkeys to navigate"},fi:{next_page:"Seuraava sivu",previous_page:"Edellinen sivu",first_page:"Ensimmäinen sivu",last_page:"Viimeinen sivu",jump_to:"Siirry sivulle",go_to:"Siirry sivulle",description:"Voit käyttää nuolinäppäimiä sivunumeron valitsemiseen",pagination_label:"Sivutus, valitse sivunumero siirtyäksesi sivulle",prev_section:"Näytä edelliset {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi",next_section:"Näytä seuraavat {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi"},sv:{next_page:"Nästa sida",previous_page:"Föregående sida",first_page:"Första sidan",last_page:"Sista sidan",jump_to:"Hoppa till sida",go_to:"Hoppa till sida",description:"Du kan använda piltangenterna för att välja sida",pagination_label:"Sidutning, välj en siffra för att hoppa till en sida",prev_section:"Visa föregående {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera",next_section:"Visa nästa {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera"}};this.accessibleLabels=getLocaleString(this.accessibleLabelsDefaults);this.take=5;this.visibleItems=5;this.total=1e3;this.ariaControls="";this.current=1}e.prototype.watchLanguageStateHandler=function(e,t){if(e!==t&&this.accessibleLabels===this.accessibleLabelsDefaults[t]){this.accessibleLabels=getLocaleString(this.accessibleLabelsDefaults,e)}};e.prototype.watchPropTotalHandler=function(){this.calculatePageTake();return true};e.prototype.watchStateHandler=function(e,t){return this.actionChain(e,t)};e.prototype.componentWillLoad=function(){this.internalSectionIndex=Math.ceil(this.current/this.visibleItems)-1;this.calculatePageTake();inheritGlobalTheme(this)};e.prototype.componentWillRender=function(){if(this.internalSectionIndex!==0&&this.internalSectionIndex!==this.totalPages){this.calculatePageTake()}};e.prototype.componentDidRender=function(){this.setFocus()};e.prototype.connectedCallback=function(){connectLanguageChangeObserver(this)};e.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this)};e.prototype.calculatePageTake=function(){this.totalPages=Math.ceil(this.total/this.take)};e.prototype.onMouseHandler=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){e.preventDefault();e.stopPropagation();this.current=this.current+t;this.emitPageEvent(e);return[2]}))}))};e.prototype.onKeyboardDown=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=this.current;if(isArrowLeftKey(e)||isArrowUpKey(e)){t--}if(isArrowRightKey(e)||isArrowDownKey(e)){t++}if(isArrowKey(e)){if(t<=this.totalPages){this.current=t;this.emitPageEvent(e)}}if(isNumber(e)&&this.shouldDisplayNavigation()){this.numbersStore=this.numbersStore+e.key;if(Number(this.numbersStore)>this.totalPages){this.numbersStore=this.totalPages+""}this.getEnteredNumber(e)}return[2]}))}))};e.prototype.setFocus=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(i){switch(i.label){case 0:e=this.nativeNav.querySelector("li.duet-pagination-item-is-active duet-button");t=e;if(!t)return[3,2];return[4,e.setFocus()];case 1:t=i.sent();i.label=2;case 2:t;return[2]}}))}))};e.prototype.pageClickHandler=function(e){e.preventDefault();var t=Number(e.target.getAttribute("data-id"));this.current=t;this.emitPageEvent({},t)};e.prototype.sectionClickHandler=function(e,t){e.preventDefault();var i=this.internalSectionIndex+t;var n=this.take*this.visibleItems;if(i*n>this.total){i=this.internalSectionIndex}var a=i;this.internalSectionIndex=a>=0?a:0};e.prototype.jumpToStart=function(e){e.preventDefault();this.internalSectionIndex=0;this.current=1;this.emitPageEvent(e)};e.prototype.jumpToEnd=function(e){e.preventDefault();this.internalSectionIndex=Math.ceil(this.totalPages/this.take-1);this.current=this.totalPages;this.emitPageEvent(e)};e.prototype.renderPageNumbers=function(){var e=this;var t=[];var i=this.internalSectionIndex*this.visibleItems;do{i++;if(i>this.totalPages){break}t.push(h("li",{class:{"duet-pagination-item":true,"duet-pagination-item-is-active":i===this.current},role:"menuitem"},h("duet-button",{class:{"duet-pagination-link":true},color:i!==this.current?this.theme!=="turva"?"secondary":"secondary-turva":this.theme!=="turva"?"primary":"primary-turva","data-id":i,"center-text":true,variation:"plain",margin:"none",accessibleLabel:"".concat(this.accessibleLabels.go_to," ").concat(i),onClick:function(t){return e.pageClickHandler(t)},theme:this.theme},h("div",{class:"duet-pagination-page-number","aria-hidden":true},i))))}while(i<this.visibleItems+this.internalSectionIndex*this.visibleItems);return t};e.prototype.shouldDisplayNavigation=function(){if(this.variation!=="compact"){return shouldDisplayNavigation(this.visibleItems,this.total,this.take)}return false};e.prototype.render=function(){var e;var t=this;return h(Host,{onKeyDown:function(e){return t.onKeyboardDown(e)}},h("nav",{role:"navigation","aria-labelledby":this.accessibleLabelledBy?"".concat(this.accessibleLabelledBy," ").concat(this.listId):this.listId,"aria-describedby":this.accessibleDescribedBy?"".concat(this.accessibleDescribedBy," ").concat(this.listId):this.listId,"aria-descriptions":this.accessibleDescription,"aria-details":this.accessibleDetails,ref:function(e){return t.nativeNav=e},"aria-controls":this.ariaControls,class:(e={"duet-pagination-nav":true},e["duet-pagination-variation-".concat(this.variation)]=true,e)},this.numbersStore!==""&&h("div",{"aria-live":"assertive","aria-relevant":"text",class:"duet-pagination-overlay","aria-label":"".concat(this.accessibleLabels.jump_to," ").concat(this.numbersStore),part:"navigation-overlay"},h("duet-badge",{theme:this.theme},"jump to page : ",this.numbersStore)),h("ol",{id:this.listId,class:{"duet-pagination":true,"duet-pagination-is-dimmed":this.numbersStore!==""},role:"menubar","aria-label":this.accessibleLabels.pagination_label,"aria-description":this.accessibleLabels.description},h("li",{class:{"duet-pagination-page-button":true,"duet-pagination-button-first":true},role:"menuitem",part:"navigation-arrow"},h("duet-action-button",{disabled:this.internalSectionIndex===0&&this.current<=1,"data-direction":"back",onClick:function(e){return t.onMouseHandler(e,-1)},"accessible-label":this.accessibleLabels.previous_page,"icon-name":"action-arrow-left-small",theme:this.theme})),this.internalSectionIndex!==0&&this.shouldDisplayNavigation()&&h(Fragment,null,h("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},h("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-back","center-text":"true",variation:"plain",color:this.theme!=="turva"?"secondary":"secondary-turva",margin:"none",accessibleLabel:this.accessibleLabels.first_page,onClick:function(e){return t.jumpToStart(e)},theme:this.theme},h("div",{class:"duet-pagination-page-number"},"1"))),h("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},h("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-back","center-text":"true",color:this.theme!=="turva"?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.prev_section.replace("{0}","".concat(this.visibleItems)),onClick:function(e){return t.sectionClickHandler(e,-1)},theme:this.theme},h("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"...")))),this.renderPageNumbers(),this.internalSectionIndex*(this.visibleItems+2)<this.totalPages&&this.shouldDisplayNavigation()&&h(Fragment,null,h("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},h("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-forward","center-text":"true",color:this.theme!=="turva"?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.next_section.replace("{0}","".concat(this.visibleItems)),onClick:function(e){return t.sectionClickHandler(e,1)},theme:this.theme},h("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"..."))),h("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},h("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-forward","center-text":"true",color:this.theme!=="turva"?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.last_page,onClick:function(e){return t.jumpToEnd(e)},theme:this.theme},h("div",{class:"duet-pagination-page-number"},this.totalPages)))),h("li",{class:{"duet-pagination-page-button":true,"duet-pagination-button-last":true},role:"menuitem",part:"navigation-arrow"},h("duet-action-button",{disabled:this.current===this.totalPages&&this.internalSectionIndex===Math.ceil(this.totalPages/this.visibleItems)-1,class:"duet-date-dialog-next","accessible-label":this.accessibleLabels.next_page,onClick:function(e){return t.onMouseHandler(e,1)},"icon-name":"action-arrow-right-small",theme:this.theme})))))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{language:["watchLanguageStateHandler"],total:["watchPropTotalHandler"],current:["watchStateHandler"]}},enumerable:false,configurable:true});return e}();DuetPagination.style=duetPaginationCss;var duetRangeStepperCss="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-range-stepper{display:flex;flex-wrap:wrap;gap:0;align-items:baseline;justify-content:center;min-width:30px;min-height:30px;font-weight:600;text-decoration:none;border-left-width:0}.duet-range-stepper{white-space:nowrap}.duet-range-stepper .duet-range-step-counter{font-weight:600;color:rgb(0, 41, 77)}.duet-range-stepper ::part(button){border:0}";var DuetRangeStepper=function(){function e(e){var t=this;registerInstance(this,e);this.duetRangeStepUpdate=createEvent(this,"duetRangeStepUpdate",7);this.leftBn=createID("duetRangeStepper-left");this.rightBn=createID("duetRangeStepper-right");this.handleClick=function(e,i){e.preventDefault();t.stepIndex+=i;t.clampStepIndex();t.handleStepClick(e)};this.language=getLanguage();this.theme="";this.stepIndex=1;this.stepSize=50;this.total=1e3;this.ariaLabelsDefaults={en:{next_increment:"Next range increment",previous_increment:"Previous range increment",x_of_y:"{0}–{1} of {2}"},fi:{next_increment:"Seuraava välillä",previous_increment:"Edellinen välillä",x_of_y:"{0}–{1} / {2}"},sv:{next_increment:"Nästa intervall",previous_increment:"Föregående intervall",x_of_y:"{0}–{1} av {2}"}};this.ariaLabels=getLocaleString(this.ariaLabelsDefaults);this.ariaControls=""}e.prototype.watchLanguageStateHandler=function(e,t){if(e!==t&&this.ariaLabels===this.ariaLabelsDefaults[t]){this.ariaLabels=getLocaleString(this.ariaLabelsDefaults,e)}};e.prototype.watchStepIndexStateHandler=function(e){if(this.leftBnRef&&this.rightBnRef){if(e<=1){if(this.element===document.activeElement){this.rightBnRef.setFocus()}this.leftBnRef.setAttribute("disabled","")}else{this.leftBnRef.removeAttribute("disabled")}if(e>=this.total/this.stepSize){if(this.element===document.activeElement){this.leftBnRef.setFocus()}this.rightBnRef.setAttribute("disabled","")}else{this.rightBnRef.removeAttribute("disabled")}}};e.prototype.watchStepSizeStateHandler=function(e,t){if(e!==t){if(this.stepIndex*e>this.total){this.stepIndex=Math.ceil(this.total/e)}this.watchStepIndexStateHandler(this.stepIndex)}};e.prototype.handleStepClick=function(e){this.duetRangeStepUpdate.emit({originalEvent:e,component:"duet-range-stepper",from:this.getFrom(),to:this.getTo(),index:this.stepIndex})};e.prototype.componentWillLoad=function(){inheritGlobalTheme(this);this.clampStepIndex()};e.prototype.componentDidLoad=function(){this.watchStepIndexStateHandler(this.stepIndex)};e.prototype.connectedCallback=function(){connectLanguageChangeObserver(this)};e.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this)};e.prototype.clampStepIndex=function(){if(this.stepIndex<1){this.stepIndex=1}else if(this.stepIndex*this.stepSize>this.total){this.stepIndex=Math.ceil(this.total/this.stepSize)}};e.prototype.getFrom=function(){return Math.floor((this.stepIndex-1)*this.stepSize)+1};e.prototype.getTo=function(){return Math.min(Math.floor(this.stepIndex*this.stepSize),this.total)};e.prototype.generateStepSize=function(){return this.ariaLabels.x_of_y.replace("{0}",String(this.getFrom())).replace("{1}",String(this.getTo())).replace("{2}",String(this.total))};e.prototype.generatePreviousIncrementLabel=function(){if(this.getFrom()===1){return""}return this.ariaLabels.x_of_y.replace("{0}",String(Math.max(this.getFrom()-this.stepSize,1))).replace("{1}",String(Math.min(this.getFrom()-1,this.total))).replace("{2}",String(this.total))};e.prototype.generateNextIncrementLabel=function(){if(this.getTo()===this.total){return""}return this.ariaLabels.x_of_y.replace("{0}",String(this.getTo()+1)).replace("{1}",String(Math.min(this.getTo()+this.stepSize,this.total))).replace("{2}",String(this.total))};e.prototype.onKeyboardDown=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){t=this.stepIndex;i=1;if(isArrowLeftKey(e)||isArrowUpKey(e)||isMinusKey(e)){t--;i=-1;this.leftBnRef.setFocus()}if(isArrowRightKey(e)||isArrowDownKey(e)||isPlusKey(e)){t++;i=1}if(isArrowKey(e)){if(t>0&&t*this.stepSize<=this.total){this.handleClick(e,i)}}return[2]}))}))};e.prototype.render=function(){var e=this;return h("div",{class:{"duet-range-stepper":true,"duet-theme-turva":this.theme==="turva"},onKeyDown:function(t){return e.onKeyboardDown(t)},"aria-controls":this.ariaControls},h("span",{class:"duet-range-step-counter",part:"range-numbers"},this.generateStepSize()),h("duet-action-button",{class:"duet-range-step-button duet-range-step-minus",onClick:function(t){return e.handleClick(t,-1)},id:this.leftBn,"accessible-label":"".concat(this.ariaLabels.previous_increment," ").concat(this.generatePreviousIncrementLabel()),ref:function(t){return e.leftBnRef=t},part:"navigation-arrow",iconName:"action-arrow-left-small"}),h("duet-action-button",{class:"duet-range-step-button duet-range-step-plus",onClick:function(t){return e.handleClick(t,1)},"accessible-label":"".concat(this.ariaLabels.next_increment," ").concat(this.generateNextIncrementLabel()),id:this.rightBn,ref:function(t){return e.rightBnRef=t},part:"navigation-arrow",iconName:"action-arrow-right-small"}))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{language:["watchLanguageStateHandler"],stepIndex:["watchStepIndexStateHandler"],stepSize:["watchStepSizeStateHandler"]}},enumerable:false,configurable:true});return e}();DuetRangeStepper.style=duetRangeStepperCss;export{DuetPagination as duet_pagination,DuetRangeStepper as duet_range_stepper};