/*!
 * Built with Duet Design System
 */
import{r as t,c as e,h as a,H as r,g as i}from"./p-e2a64fc4.js";import{i as s}from"./p-4ebf1618.js";import{c as o}from"./p-c1325e35.js";import{c as d}from"./p-56118313.js";const u=({value:t,maxlength:e,label:r,theme:i})=>{if(null==e)return;const s=t.length,o=Math.max(e-s,0);return a("div",{class:"duet-character-count"},a("duet-caption",{margin:"none",theme:i,size:"small"},a("duet-visually-hidden",{"aria-live":"polite","aria-atomic":"true",class:"duet-textarea-counter-remaining"},o/e<=.1&&`${o} ${r}`),a("span",{"aria-hidden":"true"},s,"/",e)))},h=class{constructor(a){t(this,a),this.duetInput=e(this,"duetInput",7),this.duetChange=e(this,"duetChange",7),this.duetBlur=e(this,"duetBlur",7),this.duetFocus=e(this,"duetFocus",7),this.textareaId=o("DuetTextarea"),this.topCaptionId=o("DuetCaptionTop"),this.topCaptionPlaceholderId=o("DuetCaptionPlaceholderTop"),this.labelId=o("DuetLabel"),this.errorId=o("DuetError"),this.characterCountId=o("DuetCharacterCount"),this.disallowPatternRegex=null,this.handleInput=t=>{this.disallowPatternRegex&&d(this.nativeInput,this.disallowPatternRegex),this.value=this.nativeInput.value,this.isCaptionVisible=!!this.caption,this.duetInput.emit({originalEvent:t,value:this.value,component:"duet-textarea"})},this.handleChange=t=>{this.value=this.nativeInput.value,this.duetChange.emit({originalEvent:t,value:this.value,component:"duet-textarea"})},this.handleBlur=t=>{this.duetBlur.emit({originalEvent:t,value:this.value,component:"duet-textarea"})},this.handleFocus=t=>{this.counter&&(this.hiddenCounterLabel.textContent=`${Math.max(this.maxlength-this.value.length,0)}/${this.maxlength} ${this.counterLabel}`),this.duetFocus.emit({originalEvent:t,value:this.value,component:"duet-textarea"})},this.getDescribedBy=()=>{const t=[];return this.isCaptionVisible&&this.topCaptionId&&t.push(this.topCaptionId),this.accessibleDescribedBy&&t.push(this.accessibleDescribedBy),this.error&&t.push(this.errorId),this.counter&&t.push(this.characterCountId),t.length>0?t.join(" "):null},this.margin="auto",this.accessibleActiveDescendant=void 0,this.accessibleAutocomplete=void 0,this.accessibleControls=void 0,this.accessibleDetails=void 0,this.accessibleLabelledBy=void 0,this.accessibleDescription=void 0,this.accessibleLiveError="polite",this.accessibleOwns=void 0,this.accessibleDescribedBy=void 0,this.theme="",this.expand=!1,this.disabled=!1,this.identifier=void 0,this.required=!1,this.label="label",this.labelHidden=!1,this.name=void 0,this.placeholder=void 0,this.caption=void 0,this.echoPlaceholder=!1,this.maxlength=void 0,this.minlength=void 0,this.error="",this.role=void 0,this.tooltip="",this.tooltipDirection="auto",this.value="",this.disallowPattern=null,this.counter=!1,this.counterLabel=void 0}disallowedPatternChange(){this.disallowPatternRegex=this.disallowPattern?new RegExp(this.disallowPattern,"g"):null}componentWillLoad(){s(this),this.disallowedPatternChange(),this.isCaptionVisible=!!this.caption,this.counter&&null==this.maxlength&&console.warn("[DUET WARNING]: counter will only take effect if maxlength is set"),this.counter||null==this.counterLabel||console.warn("[DUET WARNING]: counter-label is redundant unless used with counter"),this.counter&&!this.counterLabel&&console.warn("[DUET WARNING]: counter requires counter-label to be set")}async setFocus(t){this.nativeInput.focus(t)}render(){const t=this.identifier||this.textareaId;return a(r,{class:{"duet-m-0":"none"===this.margin,"duet-has-counter":this.counter&&!this.error,"duet-expand":this.expand}},a("div",{class:{"duet-textarea-container":!0,"duet-theme-turva":"turva"===this.theme,"duet-label-hidden":this.labelHidden,"duet-input-top-caption-shown":this.isCaptionVisible,"has-error":!!this.error}},a("duet-label",{theme:"turva"===this.theme?"turva":"default",class:{"duet-has-tooltip":!!this.tooltip},margin:this.isCaptionVisible?"small":"auto",id:this.labelId,for:t},this.label),this.tooltip&&a("duet-tooltip",{direction:this.tooltipDirection,accessibleInputLabel:this.label,theme:"turva"===this.theme?"turva":"default"},this.tooltip),this.caption&&a("duet-caption",{id:this.topCaptionId,size:"medium",theme:"turva"===this.theme?"turva":"default"},this.caption),a("div",{class:"duet-textarea-wrapper"},this.placeholder&&this.echoPlaceholder&&this.value&&a("duet-caption",{id:this.topCaptionPlaceholderId,class:"duet-textarea-placeholder",size:"small"},this.placeholder),a("textarea",{onInput:this.handleInput,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,ref:t=>this.nativeInput=t,class:{"duet-textarea":!0,disabled:this.disabled},value:this.value,disabled:this.disabled,"aria-labelledby":this.accessibleLabelledBy?`${this.labelId} ${this.accessibleLabelledBy}`:this.labelId,"aria-controls":this.accessibleControls,"aria-autocomplete":this.accessibleAutocomplete,"aria-activedescendant":this.accessibleActiveDescendant,"aria-owns":this.accessibleOwns,"aria-describedby":this.getDescribedBy(),"aria-details":this.accessibleDetails,"aria-description":this.accessibleDescription,placeholder:this.placeholder,spellcheck:"false",required:this.required,minlength:this.minlength,maxlength:this.maxlength,role:this.role,name:this.name,id:t})),a("duet-grid",{alignment:"stretch"},a("duet-grid-item",{margin:"none",fill:!0},a("div",{class:"duet-textarea-help",id:this.errorId,"aria-atomic":"true","aria-live":this.accessibleLiveError,"aria-relevant":"additions removals"},this.error&&a("span",null,this.error))),a("duet-grid-item",{margin:"none",class:"duet-character-count-caption"},this.counter&&a(u,{theme:this.theme,value:this.value,maxlength:this.maxlength,label:this.counterLabel}))),this.counter&&a("duet-visually-hidden",{class:"duet-visually-hidden",id:this.characterCountId,ref:t=>{this.hiddenCounterLabel=t}})))}get element(){return i(this)}static get watchers(){return{disallowPattern:["disallowedPatternChange"]}}};h.style='*.sc-duet-textarea,*.sc-duet-textarea::after,*.sc-duet-textarea::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-textarea-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:block;width:100%;max-width:100%;text-align:left}.sc-duet-textarea-h:last-child,.sc-duet-textarea-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-textarea-h{width:calc(50% - 16px - 3px)}.duet-expand.sc-duet-textarea-h{width:100% !important}}.duet-m-0.sc-duet-textarea-h{margin:0 !important}duet-tooltip.sc-duet-textarea{position:absolute;top:12px;right:0}@media (min-width: 48em){duet-tooltip.sc-duet-textarea{position:relative;top:4px;right:auto}}.duet-textarea-container.sc-duet-textarea{position:relative;width:100%;height:100%}.duet-textarea-container.sc-duet-textarea .duet-input-top-caption.sc-duet-textarea{display:none}.duet-textarea-container.duet-input-top-caption-shown.sc-duet-textarea .duet-input-top-caption.sc-duet-textarea{display:flex !important}.duet-textarea-wrapper.sc-duet-textarea{position:relative}.duet-textarea-placeholder.sc-duet-textarea{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}.duet-textarea.sc-duet-textarea{padding:15px !important;position:relative;z-index:100;display:block;width:100%;min-width:8rem;min-height:160px;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);resize:vertical;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:4px;transition:150ms ease}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58);border-color:rgb(116, 116, 117)}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea{border-color:rgb(222, 35, 98) !important}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea{border-color:rgb(224, 42, 13) !important}.duet-textarea.sc-duet-textarea::-webkit-input-placeholder{color:rgb(101, 119, 135);opacity:1 !important;transition:color 300ms ease}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea::-webkit-input-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus::-webkit-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus::-webkit-input-placeholder{color:rgb(207, 207, 209)}.duet-textarea.sc-duet-textarea::-moz-placeholder{color:rgb(101, 119, 135);opacity:1 !important}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea::-moz-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus::-moz-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus::-moz-placeholder{color:rgb(207, 207, 209)}.duet-textarea.sc-duet-textarea:-ms-input-placeholder{color:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:-ms-input-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus:-ms-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus:-ms-input-placeholder{color:rgb(207, 207, 209)}.duet-textarea[disabled].sc-duet-textarea{color:rgb(101, 119, 135) !important;cursor:default !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important}.duet-theme-turva.sc-duet-textarea .duet-textarea[disabled].sc-duet-textarea{color:rgb(116, 116, 117) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important}.duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px rgb(144, 149, 153)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px rgb(116, 116, 117)}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px rgb(224, 42, 13)}.duet-textarea.sc-duet-textarea:focus{border-color:rgb(0, 119, 179);outline:0;box-shadow:0 0 0 1px rgb(0, 119, 179);transition:none}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px rgb(23, 28, 58)}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{box-shadow:0 0 0 1px rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{box-shadow:0 0 0 1px rgb(224, 42, 13)}.duet-textarea.sc-duet-textarea:not(:focus):not(:hover):invalid{box-shadow:none}.duet-textarea-help.sc-duet-textarea{font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:0.875rem;line-height:1.25}.duet-textarea-help.sc-duet-textarea span.sc-duet-textarea{display:block;margin-top:8px}.duet-theme-turva.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(116, 116, 117)}.has-error.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{color:rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{color:rgb(224, 42, 13)}.duet-label-hidden.sc-duet-textarea duet-label.sc-duet-textarea{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}.duet-character-count.sc-duet-textarea{display:block;margin:8px 0 0 auto}';export{h as duet_textarea}