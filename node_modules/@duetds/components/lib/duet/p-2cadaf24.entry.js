/*!
 * Built with Duet Design System
 */
import{r as t,c as i,h as e,F as a,H as s,g as n}from"./p-e2a64fc4.js";import{i as r}from"./p-4ebf1618.js";import{c as o}from"./p-c1325e35.js";import{d as h}from"./p-0b3f675e.js";import{k as l,l as p,d,b as u,a as c,c as g,m,n as b}from"./p-f077c646.js";import{g as v,a as k,c as f,d as w}from"./p-076452be.js";import"./p-5a9d75e1.js";const y=class{constructor(e){t(this,e),this.duetPageChange=i(this,"duetPageChange",3),this.listId=o("duet-pagination-list"),this.actionChain=async(t,i)=>{if(0===t)this.current=1;else if(i!==t){const i=Math.ceil(t/this.visibleItems)-1;i!==this.internalSectionIndex&&(this.internalSectionIndex=i,await this.setFocus())}return!0},this.emitPageEvent=h(((t,i)=>{const e=Number(i||this.current);this.duetPageChange.emit({component:"duet-pagination",from:e*this.take,to:e*this.take+this.take,current:e,take:this.take,type:"page",originalEvent:t})}),100),this.getEnteredNumber=h((t=>{this.emitPageEvent(t,this.numbersStore),this.current=Number(this.numbersStore),this.numbersStore="",this.duetPageChange.emit({component:"duet-pagination",from:this.current*this.take,to:this.current*this.take+this.take,current:this.current,take:this.take,type:"jump",originalEvent:t})}),500),this.numbersStore="",this.totalPages=10,this.internalSectionIndex=0,this.language=v(),this.theme="",this.jumpString="...",this.variation="default",this.accessibleDescribedBy=void 0,this.accessibleDetails=void 0,this.accessibleLabelledBy=void 0,this.accessibleDescription=void 0,this.accessibleLabelsDefaults={en:{next_page:"Next page",previous_page:"Previous page",first_page:"First page",last_page:"Last page",jump_to:"Jump to page",go_to:"Go to page",description:"You may use arrow keys to select page number",pagination_label:"Pagination, choose a number to jump to a page",prev_section:"Show previous {0} page numbers, screen reader user should use arrowkeys to navigate",next_section:"Show next {0} page numbers, screen reader user should use arrowkeys to navigate"},fi:{next_page:"Seuraava sivu",previous_page:"Edellinen sivu",first_page:"Ensimmäinen sivu",last_page:"Viimeinen sivu",jump_to:"Siirry sivulle",go_to:"Siirry sivulle",description:"Voit käyttää nuolinäppäimiä sivunumeron valitsemiseen",pagination_label:"Sivutus, valitse sivunumero siirtyäksesi sivulle",prev_section:"Näytä edelliset {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi",next_section:"Näytä seuraavat {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi"},sv:{next_page:"Nästa sida",previous_page:"Föregående sida",first_page:"Första sidan",last_page:"Sista sidan",jump_to:"Hoppa till sida",go_to:"Hoppa till sida",description:"Du kan använda piltangenterna för att välja sida",pagination_label:"Sidutning, välj en siffra för att hoppa till en sida",prev_section:"Visa föregående {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera",next_section:"Visa nästa {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera"}},this.accessibleLabels=k(this.accessibleLabelsDefaults),this.take=5,this.visibleItems=5,this.total=1e3,this.ariaControls="",this.current=1}watchLanguageStateHandler(t,i){t!==i&&this.accessibleLabels===this.accessibleLabelsDefaults[i]&&(this.accessibleLabels=k(this.accessibleLabelsDefaults,t))}watchPropTotalHandler(){return this.calculatePageTake(),!0}watchStateHandler(t,i){return this.actionChain(t,i)}componentWillLoad(){this.internalSectionIndex=Math.ceil(this.current/this.visibleItems)-1,this.calculatePageTake(),r(this)}componentWillRender(){0!==this.internalSectionIndex&&this.internalSectionIndex!==this.totalPages&&this.calculatePageTake()}componentDidRender(){this.setFocus()}connectedCallback(){f(this)}disconnectedCallback(){w(this)}calculatePageTake(){this.totalPages=Math.ceil(this.total/this.take)}async onMouseHandler(t,i){t.preventDefault(),t.stopPropagation(),this.current=this.current+i,this.emitPageEvent(t)}async onKeyboardDown(t){let i=this.current;(d(t)||u(t))&&i--,(c(t)||g(t))&&i++,l(t)&&i<=this.totalPages&&(this.current=i,this.emitPageEvent(t)),p(t)&&this.shouldDisplayNavigation()&&(this.numbersStore=this.numbersStore+t.key,Number(this.numbersStore)>this.totalPages&&(this.numbersStore=this.totalPages+""),this.getEnteredNumber(t))}async setFocus(){const t=this.nativeNav.querySelector("li.duet-pagination-item-is-active duet-button");t&&await t.setFocus()}pageClickHandler(t){t.preventDefault();const i=Number(t.target.getAttribute("data-id"));this.current=i,this.emitPageEvent({},i)}sectionClickHandler(t,i){t.preventDefault();let e=this.internalSectionIndex+i;e*(this.take*this.visibleItems)>this.total&&(e=this.internalSectionIndex),this.internalSectionIndex=e>=0?e:0}jumpToStart(t){t.preventDefault(),this.internalSectionIndex=0,this.current=1,this.emitPageEvent(t)}jumpToEnd(t){t.preventDefault(),this.internalSectionIndex=Math.ceil(this.totalPages/this.take-1),this.current=this.totalPages,this.emitPageEvent(t)}renderPageNumbers(){const t=[];let i=this.internalSectionIndex*this.visibleItems;do{if(i++,i>this.totalPages)break;t.push(e("li",{class:{"duet-pagination-item":!0,"duet-pagination-item-is-active":i===this.current},role:"menuitem"},e("duet-button",{class:{"duet-pagination-link":!0},color:i!==this.current?"turva"!==this.theme?"secondary":"secondary-turva":"turva"!==this.theme?"primary":"primary-turva","data-id":i,"center-text":!0,variation:"plain",margin:"none",accessibleLabel:`${this.accessibleLabels.go_to} ${i}`,onClick:t=>this.pageClickHandler(t),theme:this.theme},e("div",{class:"duet-pagination-page-number","aria-hidden":!0},i))))}while(i<this.visibleItems+this.internalSectionIndex*this.visibleItems);return t}shouldDisplayNavigation(){return"compact"!==this.variation&&!(2*this.visibleItems>this.total/this.take)}render(){return e(s,{onKeyDown:t=>this.onKeyboardDown(t)},e("nav",{role:"navigation","aria-labelledby":this.accessibleLabelledBy?`${this.accessibleLabelledBy} ${this.listId}`:this.listId,"aria-describedby":this.accessibleDescribedBy?`${this.accessibleDescribedBy} ${this.listId}`:this.listId,"aria-descriptions":this.accessibleDescription,"aria-details":this.accessibleDetails,ref:t=>this.nativeNav=t,"aria-controls":this.ariaControls,class:{"duet-pagination-nav":!0,[`duet-pagination-variation-${this.variation}`]:!0}},""!==this.numbersStore&&e("div",{"aria-live":"assertive","aria-relevant":"text",class:"duet-pagination-overlay","aria-label":`${this.accessibleLabels.jump_to} ${this.numbersStore}`,part:"navigation-overlay"},e("duet-badge",{theme:this.theme},"jump to page : ",this.numbersStore)),e("ol",{id:this.listId,class:{"duet-pagination":!0,"duet-pagination-is-dimmed":""!==this.numbersStore},role:"menubar","aria-label":this.accessibleLabels.pagination_label,"aria-description":this.accessibleLabels.description},e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-first":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:0===this.internalSectionIndex&&this.current<=1,"data-direction":"back",onClick:t=>this.onMouseHandler(t,-1),"accessible-label":this.accessibleLabels.previous_page,"icon-name":"action-arrow-left-small",theme:this.theme})),0!==this.internalSectionIndex&&this.shouldDisplayNavigation()&&e(a,null,e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-back","center-text":"true",variation:"plain",color:"turva"!==this.theme?"secondary":"secondary-turva",margin:"none",accessibleLabel:this.accessibleLabels.first_page,onClick:t=>this.jumpToStart(t),theme:this.theme},e("div",{class:"duet-pagination-page-number"},"1"))),e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-back","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.prev_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,-1),theme:this.theme},e("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"...")))),this.renderPageNumbers(),this.internalSectionIndex*(this.visibleItems+2)<this.totalPages&&this.shouldDisplayNavigation()&&e(a,null,e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-forward","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.next_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,1),theme:this.theme},e("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"..."))),e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-forward","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.last_page,onClick:t=>this.jumpToEnd(t),theme:this.theme},e("div",{class:"duet-pagination-page-number"},this.totalPages)))),e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-last":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:this.current===this.totalPages&&this.internalSectionIndex===Math.ceil(this.totalPages/this.visibleItems)-1,class:"duet-date-dialog-next","accessible-label":this.accessibleLabels.next_page,onClick:t=>this.onMouseHandler(t,1),"icon-name":"action-arrow-right-small",theme:this.theme})))))}get element(){return n(this)}static get watchers(){return{language:["watchLanguageStateHandler"],total:["watchPropTotalHandler"],current:["watchStateHandler"]}}};y.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-pagination-nav{position:relative}.duet-pagination ::part(button){border:0}.duet-pagination,.duet-pagination li{display:flex;flex-wrap:wrap;gap:0.1rem;align-items:center}.duet-pagination-item-is-active .duet-pagination-page-number{border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:2px}.duet-pagination duet-button{width:30px;min-width:36px;font-weight:600;text-decoration:none;border-left-width:0}.duet-pagination-overlay{position:absolute;top:1rem;z-index:300;width:100%;text-align:center}.duet-pagination.duet-pagination-is-dimmed{opacity:0.5}";const x=class{constructor(e){t(this,e),this.duetRangeStepUpdate=i(this,"duetRangeStepUpdate",7),this.leftBn=o("duetRangeStepper-left"),this.rightBn=o("duetRangeStepper-right"),this.handleClick=(t,i)=>{t.preventDefault(),this.stepIndex+=i,this.clampStepIndex(),this.handleStepClick(t)},this.language=v(),this.theme="",this.stepIndex=1,this.stepSize=50,this.total=1e3,this.ariaLabelsDefaults={en:{next_increment:"Next range increment",previous_increment:"Previous range increment",x_of_y:"{0}–{1} of {2}"},fi:{next_increment:"Seuraava välillä",previous_increment:"Edellinen välillä",x_of_y:"{0}–{1} / {2}"},sv:{next_increment:"Nästa intervall",previous_increment:"Föregående intervall",x_of_y:"{0}–{1} av {2}"}},this.ariaLabels=k(this.ariaLabelsDefaults),this.ariaControls=""}watchLanguageStateHandler(t,i){t!==i&&this.ariaLabels===this.ariaLabelsDefaults[i]&&(this.ariaLabels=k(this.ariaLabelsDefaults,t))}watchStepIndexStateHandler(t){this.leftBnRef&&this.rightBnRef&&(t<=1?(this.element===document.activeElement&&this.rightBnRef.setFocus(),this.leftBnRef.setAttribute("disabled","")):this.leftBnRef.removeAttribute("disabled"),t>=this.total/this.stepSize?(this.element===document.activeElement&&this.leftBnRef.setFocus(),this.rightBnRef.setAttribute("disabled","")):this.rightBnRef.removeAttribute("disabled"))}watchStepSizeStateHandler(t,i){t!==i&&(this.stepIndex*t>this.total&&(this.stepIndex=Math.ceil(this.total/t)),this.watchStepIndexStateHandler(this.stepIndex))}handleStepClick(t){this.duetRangeStepUpdate.emit({originalEvent:t,component:"duet-range-stepper",from:this.getFrom(),to:this.getTo(),index:this.stepIndex})}componentWillLoad(){r(this),this.clampStepIndex()}componentDidLoad(){this.watchStepIndexStateHandler(this.stepIndex)}connectedCallback(){f(this)}disconnectedCallback(){w(this)}clampStepIndex(){this.stepIndex<1?this.stepIndex=1:this.stepIndex*this.stepSize>this.total&&(this.stepIndex=Math.ceil(this.total/this.stepSize))}getFrom(){return Math.floor((this.stepIndex-1)*this.stepSize)+1}getTo(){return Math.min(Math.floor(this.stepIndex*this.stepSize),this.total)}generateStepSize(){return this.ariaLabels.x_of_y.replace("{0}",String(this.getFrom())).replace("{1}",String(this.getTo())).replace("{2}",String(this.total))}generatePreviousIncrementLabel(){return 1===this.getFrom()?"":this.ariaLabels.x_of_y.replace("{0}",String(Math.max(this.getFrom()-this.stepSize,1))).replace("{1}",String(Math.min(this.getFrom()-1,this.total))).replace("{2}",String(this.total))}generateNextIncrementLabel(){return this.getTo()===this.total?"":this.ariaLabels.x_of_y.replace("{0}",String(this.getTo()+1)).replace("{1}",String(Math.min(this.getTo()+this.stepSize,this.total))).replace("{2}",String(this.total))}async onKeyboardDown(t){let i=this.stepIndex,e=1;(d(t)||u(t)||m(t))&&(i--,e=-1,this.leftBnRef.setFocus()),(c(t)||g(t)||b(t))&&(i++,e=1),l(t)&&i>0&&i*this.stepSize<=this.total&&this.handleClick(t,e)}render(){return e("div",{class:{"duet-range-stepper":!0,"duet-theme-turva":"turva"===this.theme},onKeyDown:t=>this.onKeyboardDown(t),"aria-controls":this.ariaControls},e("span",{class:"duet-range-step-counter",part:"range-numbers"},this.generateStepSize()),e("duet-action-button",{class:"duet-range-step-button duet-range-step-minus",onClick:t=>this.handleClick(t,-1),id:this.leftBn,"accessible-label":`${this.ariaLabels.previous_increment} ${this.generatePreviousIncrementLabel()}`,ref:t=>this.leftBnRef=t,part:"navigation-arrow",iconName:"action-arrow-left-small"}),e("duet-action-button",{class:"duet-range-step-button duet-range-step-plus",onClick:t=>this.handleClick(t,1),"accessible-label":`${this.ariaLabels.next_increment} ${this.generateNextIncrementLabel()}`,id:this.rightBn,ref:t=>this.rightBnRef=t,part:"navigation-arrow",iconName:"action-arrow-right-small"}))}get element(){return n(this)}static get watchers(){return{language:["watchLanguageStateHandler"],stepIndex:["watchStepIndexStateHandler"],stepSize:["watchStepSizeStateHandler"]}}};x.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-range-stepper{display:flex;flex-wrap:wrap;gap:0;align-items:baseline;justify-content:center;min-width:30px;min-height:30px;font-weight:600;text-decoration:none;border-left-width:0}.duet-range-stepper{white-space:nowrap}.duet-range-stepper .duet-range-step-counter{font-weight:600;color:rgb(0, 41, 77)}.duet-range-stepper ::part(button){border:0}";export{y as duet_pagination,x as duet_range_stepper}