/*!
 * Built with Duet Design System
 */
import{r as t,c as e,h as i,H as o,g as s}from"./p-e2a64fc4.js";import{i as a}from"./p-4ebf1618.js";import{F as d}from"./p-fc9bbd16.js";import{f as n}from"./p-f077c646.js";import{g as l,c as r,d as u,a as h}from"./p-076452be.js";import{g as p}from"./p-a76ceaf6.js";import"./p-5a9d75e1.js";import"./p-fd4785ab.js";const g=class{constructor(i){t(this,i),this.duetSlideoutEvent=e(this,"duetSlideoutEvent",7),this.exitLangObject={en:"Exit the menu",fi:"Poistu valikosta",sv:"Avsluta menyn"},this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent),this.toggleMenu=t=>{const e=!this.open;if(this.open=e,this.openButton.setAttribute("aria-expanded",this.open.toString()),this.duetSlideoutEvent.emit({originalEvent:t,data:{element:this.element,open:this.open},component:"duet-slideout"}),e){const t=this.element.querySelector("duet-slideout-panel[open]");t?t.setFocus():setTimeout((()=>{this.closeButton.focus()}),200)}else setTimeout((()=>{this.openButton.setFocus()}),200)},this.onClick=t=>{this.toggleMenu(t)},this.language=l(),this.theme="",this.open=!1,this.backgroundColor="gray-lightest"}async toggle(){const t=new CustomEvent("toggle");this.toggleMenu(t),setTimeout((()=>{this.closeButton.focus()}),200)}componentWillLoad(){a(this),this.openButton=this.element.querySelector(":scope > [slot='toggle']"),this.openButton&&(this.openButton.accessiblePopup="true",this.openButton.accessibleExpanded=!1,this.openButton.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),this.onClick(t)})),this.openButton=this.openButton)}connectedCallback(){r(this)}disconnectedCallback(){u(this)}handleKeyUp(t){n(t)&&this.open&&this.toggleMenu(t)}async setFocus(t){this.openButton.focus(t)}render(){const t={background:p(this.backgroundColor,this.theme)},e=h(this.exitLangObject);return i(o,null,i("div",{class:{"duet-slideout":!0,"duet-theme-turva":"turva"===this.theme}},i("slot",{name:"toggle"}),i("div",{class:{"desktop-bg":!0,hidden:!this.open},onClick:()=>{this.open=!1}}),i("div",{tabindex:"-1",role:"dialog",id:"dialog","aria-labelledby":"button","aria-modal":!this.isSafariBrowser,"aria-flowto":"menubar",class:{dialog:!0,hidden:!this.open},style:t},i(d,{moveFocusTo:this.closeButton}),i("div",{class:"top"},i("button",{ref:t=>this.closeButton=t,"aria-haspopup":"dialog","aria-controls":"dialog","aria-expanded":this.open?"true":"false","aria-label":`${e}`,type:"button",class:{"slideout-close":!0,active:this.open},onClick:this.onClick},i("duet-icon",{name:"navigation-close",size:"small",margin:"none",color:"secondary"}))),i("div",{id:"menubar",role:"menubar",class:{items:!0}},i("slot",null)),i(d,{moveFocusTo:this.closeButton}))))}get element(){return s(this)}};g.style='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}:host slot:not([name=toggle])::slotted(*){position:relative;visibility:hidden;opacity:0}:host([open]) slot:not([name=toggle])::slotted(*){visibility:visible;opacity:1}:host(:not([open])) ::slotted(duet-slideout-panel){display:none}.duet-slideout{display:flex;align-items:center;height:100%}.duet-slideout .desktop-bg{display:none}@media (min-width: 62em){.duet-slideout .desktop-bg{position:fixed;top:0;left:0;z-index:400;display:block;width:100%;height:100%;visibility:hidden;background:rgba(0, 41, 77, 0.6);opacity:0;transition:600ms ease}.duet-slideout .desktop-bg:not(.hidden){visibility:visible;opacity:1;transition:600ms ease}}@media (min-width: 62em){.duet-slideout.duet-theme-turva .desktop-bg{background:rgba(23, 28, 58, 0.6)}}.duet-slideout .dialog{position:fixed;top:0;bottom:0;left:0;z-index:400;width:100%;height:100%;padding-bottom:75px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1) inset}@media (min-width: 62em){.duet-slideout .dialog{right:0;left:auto;width:500px;padding-bottom:0;transition:right 300ms ease;transition-delay:0s}}.duet-slideout .dialog .top{position:relative;z-index:1;display:flex;align-items:center;justify-content:flex-end;padding:4px}.duet-slideout .dialog .top button{cursor:pointer}.duet-slideout .dialog .top button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px rgb(0, 119, 179)}.duet-slideout .dialog .top duet-icon{padding:16px}.duet-slideout .dialog .items{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;padding:0 1.5rem}.duet-slideout .dialog.hidden{pointer-events:none;visibility:hidden}@media (min-width: 62em){.duet-slideout .dialog.hidden{right:-500px;transition:300ms ease}}.duet-slideout.duet-theme-turva button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button.active{color:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva button.active::after{background:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva .dialog .top button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px rgb(23, 28, 58)}::slotted(*){width:100%}slot{color:rgb(0, 41, 77)}.duet-theme-turva slot{color:rgb(23, 28, 58)}slot[name=toggle]{color:inherit}';export{g as duet_slideout}